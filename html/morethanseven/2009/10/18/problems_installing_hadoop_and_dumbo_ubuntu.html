<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html>
  <head>
    <title>Problems Installing Hadoop 0.20 and Dumbo 0.21 on Ubuntu</title>
    <meta content='text/html; charset=utf-8' http-equiv='Content-Type' />
    <meta content='hadoop, dumbo' name='keywords' />
    <link href='/assets/css/reset.css' rel='stylesheet' type='text/css' />
    <link href='/assets/css/style.css' media='screen' rel='stylesheet' type='text/css' />
    <link href='/assets/css/code.css' rel='stylesheet' type='text/css' />
  </head>
  <body>
    <div id='main'>
      <div id='header'>
        <div class='logo'>
          <a href='/'>&laquo; morethanseven</a>
        </div>
        <div id='nav'>
          <ul>
            <li><a href='/about.html'>about</a></li>
            <li><a href='/archives.html'>archives</a></li>
            <li><a href='/tags.html'>tags</a></li>
            <li>
              <a href='/atom.xml'>rss</a>
            </li>
          </ul>
        </div>
      </div>
      <div class='clear'></div>
      <div class='article'>
        <h1>
          Problems Installing Hadoop 0.20 and Dumbo 0.21 on Ubuntu
        </h1>
        <div class='meta'>
          <ul class='tags'>
            <li>Oct 18, 2009</li>
            <li>&middot;</li>
            <li>
              <a class='tag' href='/tags/dumbo/'>
                dumbo
              </a>
            </li>
            <li>
              <a class='tag' href='/tags/hadoop/'>
                hadoop
              </a>
            </li>
          </ul>
        </div>
        <div class='body'>
          <p>The Hadoop wiki has a great introduction to <a href="http://wiki.apache.org/hadoop/Running_Hadoop_On_Ubuntu_Linux_(Single-Node_Cluster)">installing this piece of software</a>, which I wanted to do to have a play with <a href="http://klbostee.github.com/dumbo/">Dumbo</a>. The Dumbo docs also have a good <a href="http://wiki.github.com/klbostee/dumbo/building-and-installing">getting started</a> section which includes a few patches than need to be applied.</p>
          <blockquote>
          <p>Dumbo can be considered to be a convenient Python <span class="caps">API</span> for writing MapReduce programs</p>
          </blockquote>
          <p>Unfortunately it&#8217;s not quite that simple, at least on Ubuntu Jaunty. Hadoop now uses Java6, but if you just follow the instructions on the wikis you&#8217;ll hit a problem when you run &#8216;&#8217;ant package&#8217;&#8216;, namely that a third party application (<a href="http://forrest.apache.org/">Apache Forrest</a>) requires Java 1.5. Once you fix that, the build script will complain again that you need to install Forrest. Here&#8217;s what I did to get everything working:</p>
          <pre>sudo apt-get install ant sun-java5-jdk</pre>
          <pre>su - hadoop&#x000A;wget http://mirrors.dedipower.com/ftp.apache.org/forrest/apache-forrest-0.8.tar.gz&#x000A;tar xzf apache-forrest-0.8.tar.gz&#x000A;cd /usr/local/hadoop&#x000A;patch -p0 &lt; /path/to/HADOOP-1722.patch&#x000A;patch -p0 &lt; /path/to/HADOOP-5450.patch&#x000A;patch -p0 &lt; /path/to/MAPREDUCE-764.patch&#x000A;ant package -Djava5.home=/usr/lib/jvm/java-1.5.0-sun -Dforrest.home=/home/hadoop/apache-forrest-0.8/</pre>
          <p>With all that out of the way you should be able to run the <a href="http://dumbotics.com/2009/05/31/dumbo-on-clouderas-distribution/">simple examples</a> found on the rather excellent <a href="http://dumbotics.com">dumbotics</a> blog. If you&#8217;re using the Cloudera distribution, or when the Hadoop 0.21 gets a release, these problems will disappear but in the meantime hopefully this saves someone else a bit of head scratching.</p>
        </div>
      </div>
      <div id='other-articles'>
        <div class='older'>
          <ul>
            <li>
              <h3>
                <a href='/2009/09/21/learnings_september.html' title=''>
                  &laquo; Learnings from September
                </a>
              </h3>
            </li>
            <li>
              <h3>
                <a href='/2009/09/13/no_database_test_runner_added_test_extensions.html' title=''>
                  &laquo; No database test runner added to test extensions
                </a>
              </h3>
            </li>
            <li>
              <h3>
                <a href='/2009/09/06/automating_web_site_deployment_barcamp_brighton.html' title=''>
                  &laquo; Automating web site deployment at Barcamp Brighton
                </a>
              </h3>
            </li>
          </ul>
        </div>
        <div class='newer'>
          <ul>
            <li>
              <h3>
                <a href='/2009/10/24/django_committers.html' title=''>
                  Django Committers &raquo;
                </a>
              </h3>
            </li>
            <li>
              <h3>
                <a href='/2009/11/01/erlang_screencasts.html' title=''>
                  Erlang Screencasts &raquo;
                </a>
              </h3>
            </li>
            <li>
              <h3>
                <a href='/2009/11/05/djugl_december.html' title=''>
                  DJUGL December &raquo;
                </a>
              </h3>
            </li>
          </ul>
        </div>
      </div>
      <div class='clear'></div>
      <div class='clear'></div>
    </div>
    <script type='text/javascript'>
      //<![CDATA[
        var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
        document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
      //]]>
    </script>
    <script type='text/javascript'>
      //<![CDATA[
        try {
          var pageTracker = _gat._getTracker("UA-435455-1");
          pageTracker._setDomainName(".morethanseven.net");
          pageTracker._setAllowHash(false);
          pageTracker._trackPageview();
        } catch(err) {}
      //]]>
    </script>
  </body>
</html>
