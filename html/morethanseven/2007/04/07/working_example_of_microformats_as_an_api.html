<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html>
  <head>
    <title>Working example of Microformats as an API</title>
    <meta content='text/html; charset=utf-8' http-equiv='Content-Type' />
    <meta content='' name='keywords' />
    <link href='/assets/css/reset.css' rel='stylesheet' type='text/css' />
    <link href='/assets/css/style.css' media='screen' rel='stylesheet' type='text/css' />
    <link href='/assets/css/code.css' rel='stylesheet' type='text/css' />
  </head>
  <body>
    <div id='main'>
      <div id='header'>
        <div class='logo'>
          <a href='/'>&laquo; morethanseven</a>
        </div>
        <div id='nav'>
          <ul>
            <li><a href='/about.html'>about</a></li>
            <li><a href='/archives.html'>archives</a></li>
            <li><a href='/tags.html'>tags</a></li>
            <li>
              <a href='/atom.xml'>rss</a>
            </li>
          </ul>
        </div>
      </div>
      <div class='clear'></div>
      <div class='article'>
        <h1>
          Working example of Microformats as an API
        </h1>
        <div class='meta'>
          <ul class='tags'>
            <li>Apr 07, 2007</li>
            <li>&middot;</li>
          </ul>
        </div>
        <div class='body'>
          <p><a href="http://allinthehead.com/">Drew</a> posted a while ago asking <a href="http://allinthehead.com/retro/301/can-your-website-be-your-api">can-your-website-be-your-api</a>. The simple idea is that you just might be able to live without a dedicated <span class="caps">API</span> in favour of good use of microformats.</p>
          <p>It also turns out <a href="http://tantek.com/">Tantek</a> has also been on the case with his presentation <a href="http://tantek.com/presentations/20040928sdforumws/semantic-xhtml.html">Can your website be your <span class="caps">API</span>? &#8211; Using semantic <span class="caps">XHTML</span> to show what you mean</a> and</p>
          <p><a href="http://www.glennjones.net">Glenn</a> has <a href="http://www.webdd.org.uk/ViewSession.aspx?SessionID=60">spoken on the subject too</a> at <a href="http://www.webdd.org.uk">WebDD</a> and <a href="http://barcamp.org/BarCampLondon2">BarCamp</a>.</p>
          <p>This has interested me for a while and I&#8217;ve finally gotten around to writing some code, in fact I wrote the bulk of it during <a href="http://thehighlandfling.com/2007/">The Highand Fling</a> and then the rest before the <a href="http://refreshedinburgh.com/">Refresh</a> event after I got to te venue an hour early.</p>
          <p>I used Drew&#8217;s <a href="http://allinthehead.com/hkit">hKit</a> for the microformat parsing so everything that follows is PHP5 only I&#8217;m afraid. The also means I dont have a working example on this server at the moment but you can <a href="http://morethanseven.net/_assets/downloads/microformatsapi/microformatsapi.zip">grab the code</a> and try it out yourself. It also makes use of a couple of <a href="http://pear.php.net"><span class="caps">PEAR</span></a> modules; <span class="caps">PEAR</span> <a href="http://pear.php.net/package/Validate">Validate</a> and <span class="caps">PEAR</span> <a href="http://pear.php.net/package/HTTP_Request">HTTP_Request</a>.</p>
          <p>At the moment I&#8217;ve worked on a simple hCard example. It demonstrates the idea of a website exposing methods based on the presense of microformats, plus using that exposed method to extract the information we&#8217;re looking for.</p>
          <p>First we create objects for the parser and the website:</p>
          <pre><code>$parser = new hKit;&#x000A;$website = new Website('http://morethanseven.net',$parser);</code></pre>
          <p>Then we&#8217;ll ask what methods the website exposes:</p>
          <pre><code>$website-&gt;expose();</code></pre>
          <p>In this example we get back an array of the available methods, in this case <em>getContacts</em>. Then just as an example lets print out some contact details:</p>
          <pre><code>foreach ($website-&gt;getContacts() as $contact) {&#x000A;   echo $contact-&gt;getFN();&#x000A;}</code></pre>
          <p>This is a very early release, more of a proof of concept and as such their is no documentation and only a portion of hCard is supported. Hell, their&#8217;s not even a name beginning with h! Having said that I have a plan for a little project to kick the tyres and so I&#8217;l l be adding to it and hopfully have a proper release at some point.</p>
          <p>The plan is to introduce methods like getReviews, getEvents, etc. which allow for the extraction of the relevant details. The part I find most interesting however is the idea of the expose method &#8211; asking a web page if it has an <span class="caps">API</span>, and if it does then what information you can extract automagically. If you&#8217;re interested let me know what you think.</p>
          <p><a href="http://morethanseven.net/_assets/downloads/microformatsapi/microformatsapi.zip">Download example</a></p>
        </div>
      </div>
      <div id='other-articles'>
        <div class='older'>
          <ul>
            <li>
              <h3>
                <a href='/2007/04/02/software_i_installed_on_my_n800.html' title=''>
                  &laquo; Software I Installed on my N800
                </a>
              </h3>
            </li>
            <li>
              <h3>
                <a href='/2007/03/28/even_more_events.html' title=''>
                  &laquo; Even More Events
                </a>
              </h3>
            </li>
            <li>
              <h3>
                <a href='/2007/03/18/semantic_web_acronym_links_primer.html' title=''>
                  &laquo; Semantic Web acronym links primer
                </a>
              </h3>
            </li>
          </ul>
        </div>
        <div class='newer'>
          <ul>
            <li>
              <h3>
                <a href='/2007/04/16/authoritative_hcards_authority_in_microformats.html' title=''>
                  Authoritative hCards - Authority in microformats &raquo;
                </a>
              </h3>
            </li>
            <li>
              <h3>
                <a href='/2007/04/28/if_computer_scientists_managed_birth_certificates.html' title=''>
                  If computer scientists managed birth certificates &raquo;
                </a>
              </h3>
            </li>
            <li>
              <h3>
                <a href='/2007/05/07/cssxx.html' title=''>
                  CSSx.x &raquo;
                </a>
              </h3>
            </li>
          </ul>
        </div>
      </div>
      <div class='clear'></div>
      <div class='clear'></div>
    </div>
    <script type='text/javascript'>
      //<![CDATA[
        var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
        document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
      //]]>
    </script>
    <script type='text/javascript'>
      //<![CDATA[
        try {
          var pageTracker = _gat._getTracker("UA-435455-1");
          pageTracker._setDomainName(".morethanseven.net");
          pageTracker._setAllowHash(false);
          pageTracker._trackPageview();
        } catch(err) {}
      //]]>
    </script>
  </body>
</html>
