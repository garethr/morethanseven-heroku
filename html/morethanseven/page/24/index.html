
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>Morethanseven</title>
  <meta name="author" content="Gareth Rushgrove">

  
  <meta name="description" content="I&#8217;m having quite a bit of fun with my rabbit, cambridge, at the moment. Their were a number of projects at Hackday involving the ever so cute &hellip;">
  

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <link rel="canonical" href="http://www.morethanseven.net/page/24">
  <link href="/favicon.ico" rel="icon">
  
  <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
  <script src="/javascripts/modernizr-2.0.js"></script>
  <script src="/javascripts/ender.js"></script>
  <script src="/javascripts/octopress.js" type="text/javascript"></script>
  <link href="/articles.atom" rel="alternate" title="Morethanseven" type="application/atom+xml">
  <!--Fonts from Google"s Web font directory at http://google.com/webfonts -->
<link href="http://fonts.googleapis.com/css?family=PT+Serif:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
<link href="http://fonts.googleapis.com/css?family=PT+Sans:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">

<meta content="etkmKMftqAyYJM6-DP_TTKJjV0EHM5vbVcaOloSo8Z8" name="google-site-verification">
<link href="http://www.myopenid.com/server" rel="openid.server">
<link href="http://garethr.myopenid.com/" rel="openid.delegate">

  
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-435455-1']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>


</head>

<body   class="no-sidebar"  >
  <header>
<hgroup>
<h1><a href="/">Morethanseven</a></h1>
<p>The blog of Gareth Rushgrove</p>

<div id='carbonads-container'>
  <div class='carbonad'>
    <div id='carbon'></div>
    <script type='text/javascript'>
      //<![CDATA[
        var z = document.createElement("script");
        z.type = "text/javascript";
        z.async = true;
        z.src = "http://engine.carbonads.com/z/12119/carbon_2_1_0_HORIZ";
        var s = document.getElementsByTagName("script")[0];
        s.parentNode.insertBefore(z, s);
      //]]>
    </script>
  </div>
</div>

</hgroup>
</header>


  <div id="main">
    <div id="content">
      <div class="blog-index">
  
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/2007/07/18/nabaztag-rest-api/">Nabaztag REST API</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2007-07-18T00:00:00+01:00" pubdate data-updated="true">Jul 18<span>th</span>, 2007</time>
        
         | <a href="/2007/07/18/nabaztag-rest-api/#disqus_thread">Comments</a>
        
      </p>
    
  </header>


  <div class="entry-content"><p>I&#8217;m having quite a bit of fun with my rabbit, <em>cambridge</em>, at the moment. Their were a number of projects at <a href="http://hackday.org">Hackday</a> involving the ever so cute <a href="http://nabaztag.com">Nabaztag</a> and I had a feeling I&#8217;d probably go home and adopt one. The idea of a rabbit with APIs was simple too much fun.</p>
<p><img src="http://morethanseven.net/_assets/media/imgNabaztag.jpg" title="Nabaztag" alt="Nabaztag" /></p>
<p>The Nabaztag <span class="caps">API</span> docs can be found in two places (the rest of the site unfortunately has a number of issues when it comes to finding information easily); in the <a href="http://help.nabaztag.com/fiche.php?langue=3&amp;fiche=29#none">help section</a> and on the <a href="http://api.nabaztag.com/docs/home.html"><span class="caps">API</span> site</a>. The latter are much better than the former by the way.</p>
<p>Lots of people have already been hacking on the wireless rabbit. Their are some good tools over on the <a href="http://nabaztools.sourceforge.net/">Nabaztag Sourceforge project</a>, a handy <a href="http://rubyforge.org/projects/nabaztag/">Ruby module</a> and a <a href="http://pear.php.net/pepr/pepr-proposal-show.php?id=463">prospective</a> <a href="http://tmp.lfms.nl/nabaztag/"><span class="caps">PEAR</span> module</a> for <span class="caps">PHP</span>.</p>
<p>I&#8217;ve been getting more and more into the ideas behind <a href="http://en.wikipedia.org/wiki/Representational_State_Transfer"><span class="caps">REST</span></a> recently and one thing that disappointed me a litte was the <span class="caps">HTTP</span> <span class="caps">RPC</span> style Nabaztag <span class="caps">API</span> (note to anyone thinking <span class="caps">REST</span> simply means using a <span class="caps">GET</span> request rather than something like <span class="caps">SOAP</span> or <span class="caps">XML</span>-<span class="caps">RPC</span>, it doesn&#8217;t). I couldn&#8217;t help seeing PUTs to ears and POSTs to the mouth.</p>
<p>Inspired a little by <a href="http://www.aralbalkan.com/">Arals</a> <a href="http://aralbalkan.com/994">Bunny Talk</a> I&#8217;ve started implementing parts of the <span class="caps">API</span> in a RESTful manner, and used my <span class="caps">API</span> abstraction layer to build a similar application.</p>
<p>Head over to <a href="http://morethanseven.net/presents/nabaztag/">morethanseven.net/presents/nabaztag/</a> and send me a message (via my rabbit obviously) or, er, play with <em>cambridges</em> ears (he likes that). At the moment the <span class="caps">API</span> is configured only for my rabbit, although you can download the source code and run it yourself if you like. It requires PHP5 at the moment as one of the required modules is PHP5 only. But you are using <a href="http://gophp5.org/">PHP5 now</a> aren&#8217;t you?</p>
<p>If you don&#8217;t want to use the form you can access the <span class="caps">API</span> directly. Here are a couple of examples using curl:</p>
<pre><code>curl http://morethanseven.net/presents/nabaztag/ears/left</code></pre>

<pre><code>curl -X 'PUT' http://morethanseven.net/presents/nabaztag/ears/left/13</code></pre>

<pre><code>curl -X 'POST' -d "message" http://morethanseven.net/presents/nabaztag/mouth</code></pre>
<p>Their&#8217;s a litte documentation in the source. I&#8217;ll add more methods, more documentation and maybe make an <span class="caps">API</span> anyone with a Nabaztag can use by authenticating either as I need it or if people actually want it. Let me know what you think (via the rabbit obviously!)</p></div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/2007/07/15/ruby-on-rails-on-nokia-n800/">Ruby on Rails on Nokia N800</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2007-07-15T00:00:00+01:00" pubdate data-updated="true">Jul 15<span>th</span>, 2007</time>
        
         | <a href="/2007/07/15/ruby-on-rails-on-nokia-n800/#disqus_thread">Comments</a>
        
      </p>
    
  </header>


  <div class="entry-content"><p>My latest job has allowed me to get back into playing with <a href="http://rubyonrails.com">Rails</a>, something I&#8217;ve been meaning to do for a year or so. Having got everything up to date and installed on my virtual server and on my laptop I couldn&#8217;t resist seeing if I could get it going on my <a href="http://www.nseries.com/products/n800">N800</a>.</p>
<p>The reasons for this are mainly that the idea of a wireless web server in my pocket is pretty intriguing. Think about it. If you&#8217;re at an event with Wi-Fi you can just point people to an IP address and hey presto they have access to your details, or a set of photos, or whatever you want to show them. I&#8217;ve also got nginx installed, but I&#8217;m not as yet that up on running python or <span class="caps">PHP</span> behind it on the N800. So, no need to carry around the laptop. OK, maybe it&#8217;s just me and all this going to web conferences? We&#8217;ll have to see if I actually knock up anything useful for the next conference and see. Saving that I&#8217;ve been travelling quite a bit recently and it&#8217;s handy when reading a Rails book to be able to try out the examples.</p>
<p>Anyway, it turns out that you can indeed <a href="http://flickr.com/photos/kwe/484269853/">install Ruby and Rails on the N800</a>, although their isn&#8217;t much information around and non of it worked exactly as stated for me &#8211; hence this post.</p>
<p>I followed along with a <a href="http://www.digitalknk.com/2007/05/27/howto-ruby-on-rails-on-your-nokia-n800/">pretty good tutorial</a>, although I already had Red Pill Mode, XTerm and <span class="caps">SSH</span> installed. Ruby is also now available in the <a href="https://garage.maemo.org/projects/ruby185/">Garage</a>.</p>
<p>The crux of the post is that you can find the required packages, in particular for Gem, <a href="http://pierre.droids-corp.org/maemo/">here</a>. But unfortunately that is were the problems start. I ran into exactly the same problem as described in the comments in the above post, on <a href="http://railsgrunt.com/2007/5/14/installing-ruby-on-rails-on-the-n800">this blog post</a> and on this <a href="http://www.internettablettalk.com/">Internet Tablet Talk</a> <a href="http://www.internettablettalk.com/forums/showthread.php?t=5442&amp;page=2">forum thread</a>. Specifically, Gem hanging, crashing or returning a segmentation fault in the yaml.rb file on line 133.</p>
<p>The problem appears to be (this is me guessing here) with gem and the N800 being able download all the info for Gem to update it&#8217;s package list. The solution, or rather a suitable workaround, is to download the individual gems yourself to the local file system or a memory card and then install them from there. You can get all the Rails gems <a href="http://pierre.droids-corp.org/maemo/gems/">here</a>. A quick script/server later and I had the familiar Rails welcome screen on port 3000. This should in theory work for oher gems as well. You can either download them directly or use Gem on a local machine and them move the files across via bluetooth or <span class="caps">USB</span>.</p></div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/2007/07/11/a-round-up/">A Round-up</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2007-07-11T00:00:00+01:00" pubdate data-updated="true">Jul 11<span>th</span>, 2007</time>
        
         | <a href="/2007/07/11/a-round-up/#disqus_thread">Comments</a>
        
      </p>
    
  </header>


  <div class="entry-content"><p>Being busy is to be expected with this new start-up malarkey but whoa. The problem is I have even more ideas for real posts or articles (the type you research, play around with, then write properly) and, for the next few weeks, not the time to do them justice. I&#8217;ll be back with gusto when I find the time. In the interim here are a few things from the last month or so I consider <em>cool</em>.</p>
<ul>
	<li>I has <a href="http://www.nabaztag.com/en/index.html">Nabaztag</a>! Sorry, but I couldn&#8217;t resist after <a href="http://hackday.org">Hackday</a>. Expect <span class="caps">API</span> hacking and silly photos on flickr aplenty.</li>
	<li>Oh, <a href="http://hackday.org">Hackday</a> was an absolute blast. Thanks to Matt, Ian, Tom and the cast of hundreds.</li>
	<li>I&#8217;m working on a cool Ruby on Rails app in the real world, up here in Newcastle no less.</li>
	<li><a href="http://vivabit.com/atmedia2007">@media</a> was, yet again, fab. A (very) late shout to Patrick and the umper lumpers. Can I make it to @media Ajax?</li>
	<li><a href="http://refreshnewcastle.org/">Refresh Newcastle</a> got a minor update with more flickr and upcoming goodness. Tag things <em>refreshnewcastle</em> for some lovin.</li>
	<li><a href="http://hedgehoglab.com">hedgehoglab.com</a> has a few more pages, a <a href="http://hedgehoglab.com/training/survey">survey on web training needs</a> and more microformats than you can shake a stick at.</li>
	<li>I&#8217;ll be at <a href="http://dconstruct.org">dconstruct</a> (just). Another jigsaw piece of my increasingly bloody minded attempt to get to as many UK web get-togethers as possible.</li>
	<li>I&#8217;ll be along to <a href="http://rubyandrails.org/usergroups/newcastle/">ncl.rb</a> tomorrow night (thursday) and in the pub afterwards if anyone is around. Their have been a few good events in Newcastle recently, only some of which I&#8217;ve managed to get along to. I&#8217;m considering getting an <a href="http://www.opencoffeeclub.org/">Open Coffee</a> do up and running in Newcastle as well. If anyone is interested let me know.</li>
</ul>
<p>More (interesting) work beckons&#8230;</p></div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/2007/06/24/targeting-on-css3/">Target(ing) on CSS3</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2007-06-24T00:00:00+01:00" pubdate data-updated="true">Jun 24<span>th</span>, 2007</time>
        
         | <a href="/2007/06/24/targeting-on-css3/#disqus_thread">Comments</a>
        
      </p>
    
  </header>


  <div class="entry-content"><p>Apologies up front for the bad pun but I&#8217;ve been busy playing with another little feature found in CSS3, namely the :target pseudo-class.</p>
<p>It&#8217;s actually pretty well described in the <a href="http://www.w3.org/TR/2001/CR-css3-selectors-20011113/#target-pseudo">CSS3 Selectors module</a>, (although given that the specs make lots of use of partial URLs the spec style sheet is crying out for use of said selector to I digress).</p>
<p>Put simply it allows you to style elements of a page that are the target of in page anchors, ie. <code>&amp;lt;a href="#target"&amp;gt;in page link&amp;lt;/a&amp;gt;</code></p>
<p>For example. The following <span class="caps">CSS</span> hides all div children of an element with an id of <em>example3</em>.</p>
<pre><code>#example3 &gt;div {
    display: none;
}</code></pre>
<p>The we can say &#8220;if said element has been targetted then display them all&#8221;</p>
<pre><code>#example3:target &gt;div {
    display: block;
}</code></pre>
<p>So if you visiting #example3 you would see the divs, otherwise they will be hidden away.</p>
<p>I&#8217;ve set up a couple of examples over on <a href="http://morethanseven.net/presents/target">morethanseven.net/presents/target</a>.</p>
<p>These examples basically remove the need for Javascript implementations but I&#8217;m not sure whether I&#8217;d actually use either of these. But you get the general idea. One thing about the examples was their simplicity compared with similar approaches though.</p>
<p>It&#8217;s already pretty well implemented according to this handy <a href="http://www.css3.info/modules/selector-compat">compatability table</a> from <a href="http://www.css3.info/">CSS3.info</a> and I would imagine an ideal candidate for <a href="http://andybudd.com">Andy Budd&#8217;s</a> <a href="http://www.andybudd.com/archives/2007/05/css22/">CSS2.2</a>.</p></div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/2007/06/22/encoded-characters-in-css3-generated-content/">Encoded Characters in CSS3 Generated Content</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2007-06-22T00:00:00+01:00" pubdate data-updated="true">Jun 22<span>nd</span>, 2007</time>
        
         | <a href="/2007/06/22/encoded-characters-in-css3-generated-content/#disqus_thread">Comments</a>
        
      </p>
    
  </header>


  <div class="entry-content"><p>A quick, but hopefully informative post on something that took me a little time to work out and I thought might trip a few others up too.</p>
<p>I&#8217;m playing with quite a bit of CSS3 at the moment for our <a href="http://hedgehoglab.com">new company</a> site. It seemed like a good excuse to put into practice lots of progressive enhancement and the like and so far is going nicely if I do say so my self.</p>
<p>The <a href="http://www.w3.org/TR/css3-content/">CSS3 Generated Content Module</a> has some nice little bits in and I decided to use it to put some icons after external link ala wikipedia (but with nicer icons). Actually what I wanted was simply an arrow and I didn&#8217;t really need an image for that did I?</p>
<p>Well my first try went a little something like this:</p>
<pre><code>p a[href^="http:"]:after {
    content: "#8594;";
}</code></pre>
<p>Nope, no luck. By the time it hits the browser it&#8217;s not what I was looking for. I didn&#8217;t think old style named entities would work but what the heck?</p>
<pre><code>p a[href^="http:"]:after {
    content: "&amp;rarr;";
}</code></pre>
<p>Nope. As I thought. No luck their either. I also tried the character itself (but forgot to put that in the first post &#8211; thanks <a href="http://joeclarke.org/weblogs/">Joe</a>) but again to no avail.</p>
<pre><code>p a[href^="http:"]:after {
    content: "â†’";
}</code></pre>
<p>Some digging around and I managed to infer the correct syntax from some hidden away examples about something else.</p>
<pre><code>p a[href^="http:"]:after {
    content: "\2192";
}</code></pre>
<p>You need to use the Unicode encoding. Doh. Job done.</p></div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/2007/06/11/introducing-hedgehog-lab/">Introducing Hedgehog Lab</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2007-06-11T00:00:00+01:00" pubdate data-updated="true">Jun 11<span>th</span>, 2007</time>
        
         | <a href="/2007/06/11/introducing-hedgehog-lab/#disqus_thread">Comments</a>
        
      </p>
    
  </header>


  <div class="entry-content"><p>For both of you who care what I get up to during my work hours this post is for you. I&#8217;ve finally gotten involved in a new startup with a couple of friends. Look out for <a href="http://hedgehoglab.com">hedgehog lab</a> related goings on in a Newcastle near you. We&#8217;ve got plans being drawn up as I type (multi-tasking) but a smattering of training and consultancy on web standards design and development and a very health dose of some of those new fangled online products (all with as many microformats as I can sneak in) sounds like fun to me.</p>
<p><a href="http://hedgehoglab.com/"><img src="http://morethanseven.net/_assets/media/imgHedgehogLab.jpg" title="hedgehog lab" alt="hedgehog lab" /></a></p>
<p>Bye bye to all the people at TH_NK. It&#8217;s been great for two years and I&#8217;ll miss the cunning hit and run attacks on asp.net that have yielded some pretty good results. I&#8217;m sure you&#8217;ll get more done without me being quite so obstinate!</p>
<p>It&#8217;s not just the impending job move that has been keeping me so busy. I finally, after much useful feedback and patience from <a href="http://thewatchmakerproject.com">Matt</a> got my first <a href="http://www.digital-web.com">Digital Web</a> article done: <a href="http://www.digital-web.com/articles/apis_and_mashups/">APIs and Mashups For The Rest Of Us</a>. As the title suggests it&#8217;s a quick run through the various goings on, in particular on what I find so interesting about the concepts of Open APIs and this web of data thing. I even squeezed in some talk of <a href="http://microformats.org">Microformats</a> <a href="http://www.digital-web.com/articles/apis_and_mashups/comments/">Let me know what you think</a>. Thanks to <a href="http://sam.aaron.name/">Sam</a> as well for a useful early proof read and to <a href="http://www.tiffehr.com/">Tiff</a> at Digital Web (who also has some interesting things to say on this here industry on her new blog, <a href="http://www.lostcog.com/">Lost Cog</a>.)</p>
<p>End of self reverential post. The list of <em>real</em> things I have to blog about is frankly too long to wait around. And it&#8217;s not helped by these <a href="http://vivabit.com/atmedia2007">trips</a> to <a href="http://hackday.org">london</a> which frankly just give me even more to write about. Incase anyone is interested (and more to remind me), expect something on automated site testing, some musings and code (!) for doing useful things with microformats, some cool CSS3 (or is it CSS2.2 now?) tricks and something involving flickr which should actually be quite interesting if I get the time.</p></div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/2007/06/02/json-configuration-example-printing/">JSON Configuration Example - Printing</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2007-06-02T00:00:00+01:00" pubdate data-updated="true">Jun 2<span>nd</span>, 2007</time>
        
         | <a href="/2007/06/02/json-configuration-example-printing/#disqus_thread">Comments</a>
        
      </p>
    
  </header>


  <div class="entry-content"><p>As a quick follow up to my <a href="http://morethanseven.net/posts/unobtrusive-javascript-example-printing/">previous post on unobtrusive javascript</a> I thought I&#8217;d expand it even more, but this time in an attempt to make it easier to use.</p>
<p>As we&#8217;ve already mentioned javascript should be treated like any other programming language &#8211; not necessarily left to the experts but their should ideally be an expert involved somewhere along the line. One way of doing this is to abstract out configuration from programmatic logic. This massively helps with code resuse as well, leaving everyone to play to their strengths. It&#8217;s interesting to note that even programmers who would always store configuration settings seperately when writing <span class="caps">PHP</span> or Rails applications don&#8217;t always get around to doing the same in Javascript. Hell, I used to be one of them until <a href="http://wait-till-i.com/">Chris Heilmann</a> pointed out how patently obvious the solution was while at <a href="http://thehighlandfling.com/2007/">The Highland Fling</a>.</p>
<p>The answer is <a href="http://www.json.org/"><span class="caps">JSON</span></a>. I think it&#8217;s nearly always easier with a quick example so here&#8217;s the Print snippet from the previous post but this time with a few configurable options:</p>
<pre><code>var Print = {
   config: {
      "id": "iNav",
      "classname": "has-print",
      "text": "Print"
   },
   init: new domFunction(function() {
      if (list = document.getElementById(Print.config.id)) {
         if (list.nodeName.toLowerCase() === 'ul') {
            if (Print.hasClass(list,Print.config.classname)) {
               var item = document.createElement("li");
               item.className = "print";
               var link = document.createElement("a");
               link.href = "#";
               link.onclick = Print.printpage;
               var txt = document.createTextNode(Print.config.text);
               link.appendChild(txt);
               item.appendChild(link);
               list.appendChild(item);
            }
         }
      }
   }),
   hasClass: function(element,cName) { 
      return new RegExp('\\b''&amp;#43;cName'&amp;#43;'\\b').test(element.className);
   },
   printpage: function() {
      window.print();
      return false;
   }
}</code></pre>
<p>The main thing we have done is to add a new block:</p>
<pre><code>config: {
   "id": "iNav",
   "classname": "has-print",
   "text": "brand new text"
},</code></pre>
<p>This is simply a <span class="caps">JSON</span> object of name/value pairs. You can easily alter the right hand values and change the workings of the app. You then reference the settings in  the rest of you&#8217;re code using dot notation:</p>
<pre><code>Print.config.text</code></pre>
<p>In the above example our configuration directives are stored in our Print object. Depending on the circumstances of use you might find it easier to have a seperate Config object which stores all the configuration settings for the entire site.</p></div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/2007/05/29/unobtrusive-javascript-example-printing/">Unobtrusive Javascript Example - Printing</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2007-05-29T00:00:00+01:00" pubdate data-updated="true">May 29<span>th</span>, 2007</time>
        
         | <a href="/2007/05/29/unobtrusive-javascript-example-printing/#disqus_thread">Comments</a>
        
      </p>
    
  </header>


  <div class="entry-content"><p>In lieu of some real posts here&#8217;s a quick code sample to keep things ticking along.</p>
<p>I&#8217;m sure you&#8217;ve had the need to place a nice print button on a web page from time to time. If you haven&#8217;t you&#8217;re probably alone. A quick google will throw up lots of results for print javascript &#8211; the problem is that most of them are horribly obtrusive.</p>
<p>OK, so it&#8217;s easy to write something like:</p>
<pre><code>&lt;a href="#" onclick="window.print();"&gt;print&lt;/a&gt;</code></pre>
<p>But the problem is <em>What if you turn off javascript?</em> The following unobtrusive script automagically adds a print link to the page &#8211; in this case as part of a list item which is added to the unordered list with the id of <em>iNav</em> and a class of <em>has-print</em>.</p>
<pre><code>var Print = {
   init: new domFunction(function() {
      if (list = document.getElementById("iNav")) {
         if (list.nodeName.toLowerCase() === 'ul') {
            if (Print.hasClass(list,'has-print')) {
               var item = document.createElement("li");
               item.className = "print";
               var link = document.createElement("a");
               link.href = "#";
               link.onclick = Print.printpage;
               var txt = document.createTextNode("Print");
               link.appendChild(txt);
               item.appendChild(link);
               list.appendChild(item);
            }
         }
      }
   }),

   hasClass: function(element,cName) { 
      return new RegExp('\\b'&amp;#43;cName&amp;#43;'\\b').test(element.className);
   },

   printpage: function() {
      window.print();
      return false;
   }
}</code></pre>
<p>With something like this you want it to load as soon as the dom is ready, rather than on page load. <a href="http://www.brothercake.com">Brothercake&#8217;s</a> <a href="http://www.brothercake.com/site/resources/scripts/domready/">domFunction</a> comes to the rescue here. The namespacing is based on <a href="http://www.kryogenix.org">Stuarts</a> technique which should make it more capable of just being dropped in to any site.</p>
<p>The only problem with this is that it&#8217;s just a little longer than the original. I think this is down to one often missed fact, at least until recently &#8211; Javascript is a programming language and should be treated as such.</p></div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/2007/05/18/some-good-news/">Some Good News</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2007-05-18T00:00:00+01:00" pubdate data-updated="true">May 18<span>th</span>, 2007</time>
        
         | <a href="/2007/05/18/some-good-news/#disqus_thread">Comments</a>
        
      </p>
    
  </header>


  <div class="entry-content"><p>Yeah, I just got my confirmation email for <a href="http://hackday.org">hackday</a> in a months time.</p>
<p><a href="http://www.hackday.org" style="border: none; padding: 0px; margin: 0px"><img src="http://l.yimg.com/us.yimg.com/i/us/ydn/hackday/hack_day_pattern_four.gif" alt="Hack Day: London, June 16/17 2007" width="180" height="105" style="border: none; margin: 0; padding: 0;"/></a></p>
<p>So, who else is going along and does anyone have any ideas they want team mates for? I&#8217;m thinking something mobile or microformats related or alternatively something I know very little about. Any ideas?</p>
<p>Oh, and I know I&#8217;ve been quite around the place lately, more on that when I can talk about it.</p></div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/2007/05/07/cssxx/">CSSx.x</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2007-05-07T00:00:00+01:00" pubdate data-updated="true">May 7<span>th</span>, 2007</time>
        
         | <a href="/2007/05/07/cssxx/#disqus_thread">Comments</a>
        
      </p>
    
  </header>


  <div class="entry-content"><p><a href="http://andybudd.com">Andy</a> gave a great thought provoking presentation (exactly what conference presentations should be) at the recent <a href="http://thehighlandfling.com/2007/">Highland Fling</a> shindig on the future of <span class="caps">CSS</span> which he&#8217;s written up into a good thought provoking blog post on <a href="http://www.andybudd.com/archives/2007/05/css22/index.php">CSS2.2</a></p>
<h3>The Problem</h3>
<p>As web standards developers we want new toys! I took to <span class="caps">CSS</span> because <em>it made sense</em> set against the madness of table based layouts, not necessarily because it appeared easy or flexible. <span class="caps">CSS</span> has turned out to be hugely flexible, but some of that flexibility has come at the expense of some weird and wonderful and successful techniques. I love this ingenuity, I&#8217;d like to think that the original <span class="caps">CSS</span> specification allowed for this cleverness in real world use.</p>
<p>CSS3 has stalled. CSS3 is trying to solve a whole host of massive problems that others are better placed to comment on, but I&#8217;d love to hear some comment from members of the working group. If I&#8217;ve missed a regular blog by a working group member please leave a comment and let me know.</p>
<p>I&#8217;m a real believer in open standards and I think that it&#8217;s this issue that worries me more about the pace of <span class="caps">CSS</span> development. Yes, I want new toys, or more specifically I want to be more efficient (yes rounded corners, I&#8217;m looking at you) but actually, I&#8217;d rather have a good CSS3 spec than a fast and loose one. But the immenent fight between Flash/Adobe and Silverlight/Microsoft is showing how productive huge commercial companies can be when it wants to get something done. Both are introducing interesting new tools and allowing for what could be improvements to usability (or horribly confusing interfaces but hey). <span class="caps">CSS</span> and <span class="caps">HTML</span> should be the glue that binds all this together in a web where everything plays nicely together. But if <span class="caps">CSS</span> provides too little or too late then this is put in doubt. And if <span class="caps">CSS</span> falls I dont see microformats, rdf, html5 or whatever making a real dent &#8211; and I really want a semantic web (upper <strong>and</strong> lower case).</p>
<h3>The Solution?</h3>
<p>Well, I&#8217;d like to say the solution isn&#8217;t <em>Browser Wars II &#8211; A good idea this time?</em></p>
<p>Andy&#8217;s suggestion of an interim step (or steps) between now and CSS3 modules raises a problem. If the working group do the work then it takes their eye further off getting CSS3 modules out. If they don&#8217;t, will they accept suggestions from outside? Will outsiders be able to grok the whole standardisation process?</p>
<p>What we need is a commercial company with lots of smart people and lots of cash &#8211; with a track record of working with standards. A member of the W3C would be a plus. Ideally they should have something invested in the web as a platform, maybe even in a smarter, cleverer, semantic web.</p>
<p>Google to the rescue maybe? If you&#8217;re really cynical you could see Silverlight as an end run around Google&#8217;s apparent dominance of the web as a platform. Lock content away in proprietary silos and traditional search becomes less appealing? And surely Google has lots to gain from the long term adoption of anything that increases the semantic nature of the web. If <span class="caps">CSS</span> is a battleground then maybe they need to come out and make a stand(ard)?</p></div>
  
  


    </article>
  
  <div class="pagination">
    
      <a class="prev" href="/page/25/">&larr; Older</a>
    
    <a href="/blog/archives">Blog Archives</a>
    
    <a class="next" href="/page/23/">Newer &rarr;</a>
    
  </div>
</div>

    </div>
  </div>
  <footer role="contentinfo">
</footer>
  

<script type="text/javascript">
      var disqus_shortname = 'morethanseven';
      
        
        var disqus_script = 'count.js';
      
    (function () {
      var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
      dsq.src = 'http://' + disqus_shortname + '.disqus.com/' + disqus_script;
      (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    }());
</script>







  <script type="text/javascript">
    (function(){
      var twitterWidgets = document.createElement('script');
      twitterWidgets.type = 'text/javascript';
      twitterWidgets.async = true;
      twitterWidgets.src = 'http://platform.twitter.com/widgets.js';
      document.getElementsByTagName('head')[0].appendChild(twitterWidgets);
    })();
  </script>




</body>
</html>
