
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>Morethanseven</title>
  <meta name="author" content="Gareth Rushgrove">

  
  <meta name="description" content="So, while sat with a few people at the WaSP panel at SXSW (of which more later when I&#8217;m fully caught up) I got a nice email from the folks at &hellip;">
  

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <link rel="canonical" href="http://www.morethanseven.net/page/20">
  <link href="/favicon.ico" rel="icon">
  
  <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
  <script src="/javascripts/modernizr-2.0.js"></script>
  <script src="/javascripts/ender.js"></script>
  <script src="/javascripts/octopress.js" type="text/javascript"></script>
  <link href="/articles.atom" rel="alternate" title="Morethanseven" type="application/atom+xml">
  <!--Fonts from Google"s Web font directory at http://google.com/webfonts -->
<link href="http://fonts.googleapis.com/css?family=PT+Serif:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
<link href="http://fonts.googleapis.com/css?family=PT+Sans:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">

<meta content="etkmKMftqAyYJM6-DP_TTKJjV0EHM5vbVcaOloSo8Z8" name="google-site-verification">
<link href="http://www.myopenid.com/server" rel="openid.server">
<link href="http://garethr.myopenid.com/" rel="openid.delegate">

  
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-435455-1']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>


</head>

<body   class="no-sidebar"  >
  <header>
<hgroup>
<h1><a href="/">Morethanseven</a></h1>
<p>The blog of Gareth Rushgrove</p>

<div id='carbonads-container'>
  <div class='carbonad'>
    <div id='carbon'></div>
    <script type='text/javascript'>
      //<![CDATA[
        var z = document.createElement("script");
        z.type = "text/javascript";
        z.async = true;
        z.src = "http://engine.carbonads.com/z/12119/carbon_2_1_0_HORIZ";
        var s = document.getElementsByTagName("script")[0];
        s.parentNode.insertBefore(z, s);
      //]]>
    </script>
  </div>
</div>

</hgroup>
</header>


  <div id="main">
    <div id="content">
      <div class="blog-index">
  
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/2008/03/14/accepted-for-xtech/">Accepted for Xtech</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2008-03-14T00:00:00+00:00" pubdate data-updated="true">Mar 14<span>th</span>, 2008</time>
        
         | <a href="/2008/03/14/accepted-for-xtech/#disqus_thread">Comments</a>
        
      </p>
    
  </header>


  <div class="entry-content"><p>So, while sat with a few people at the WaSP panel at <span class="caps">SXSW</span> (of which more later when I&#8217;m fully caught up) I got a nice email from the folks at <a href="http://2008.xtech.org">Xtech</a> accepting my presentation idea. The abstract is below. If any of that sounds interesting or up your street I&#8217;d love to hear other peoples experiences or ideas on the subject.</p>
<h2>Design Strategies for a Distributed Web</h2>
<h3>From language frameworks to APIs</h3>
<p>Everyone is making use of mature and stable web application or javascript frameworks these days. That means weâ€™ve stopped reinventing things such as routing and object relational mapping, but weâ€™re all still building very similar components again and again. Frameworks might allow us to solve lots of fine grained problems but APIs could let us solve common course grained problems quicker.</p>
<h3>Building blocks for your applications</h3>
<p>Their are already a few examples in the wild of APIs designed to be used as part of your application development process. Amazon has been leading the way in providing remote services such as S3, EC2 and SimpleDB. Their are also options when it comes to hosting these services yourself, the mint analytics software and the CouchDb database service are both good examples.</p>
<h3>Quality engineering for free</h3>
<p>The real value of outsourcing a discreet portion of your application to a third party <span class="caps">API</span> lies in quality. You could always use local storage and your programming language of choice to deal with a large volume of file read and write operations. But do you really think youâ€™ll beat Amazon for reliability, scalability and speed?</p>
<h3>Functionality vs Data</h3>
<p>Itâ€™s not just high quality functionality that we could leverage from other providers. Weâ€™re all fed up with entering and re-entering our personal data into each new service. With advancements like OAuth and Microformats and lots of focus on data portability at the moment we might just be able to share data too.</p>
<h3>Change the client as well as the server</h3>
<p>Sometimes itâ€™s not enough to just change the server. The rise of specialised browsers such as Joost and Songbird allows for functionality that would be impossible otherwise. Site specific browser, along with advancements such as local storage, may prove<br />
Problems</p>
<p>Itâ€™s not all in place just yet. The reliability of your application is likely to be important, and making use of a distributed set of APIs could leave you in the unenviable position of being less stable than your least stable partner. The issue of lock-in could also raise itâ€™s head, without a vibrant ecosystem of different providers that is.</p>
<h3>The Future</h3>
<p>The use of third party commercial APIs has the potential to change the development landscape â€“ bringing high quality middleware to the web. It could be the original web services dream realised. But without critical mass and an active market it could also be a new achilles heel for successful startups.</p></div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/2008/03/02/generating-charts-using-google-charts-api/">Generating Charts Using Google Charts API</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2008-03-02T00:00:00+00:00" pubdate data-updated="true">Mar 2<span>nd</span>, 2008</time>
        
         | <a href="/2008/03/02/generating-charts-using-google-charts-api/#disqus_thread">Comments</a>
        
      </p>
    
  </header>


  <div class="entry-content"><p>I had need recently to produce some nice looking charts and immediately turned to the very nice <a href="http://code.google.com/apis/chart/">Google Charts <span class="caps">API</span></a>. Just before Christmas <a href="http://suda.co.uk">Brian</a> had written up <a href="http://24ways.org/2007/tracking-christmas-cheer-with-google-charts">a great introduction</a> on <a href="http://24ways.org">24ways</a> and ever since I&#8217;d been looking for an excuse.</p>
<p><a href="http://www.wait-till-i.com">Chris</a> wrote up a pretty nice approach to <a href="http://www.wait-till-i.com/2008/01/08/generating-charts-from-accessible-data-tables-using-the-google-charts-api/">enhancing well marked up data tables</a> using the Charts <span class="caps">API</span> with a dash of Javascript and I decided to start with that. I made only a couple of changes to this approach based on personal requirements and preferences.</p>
<p>For a table like this:</p>
<table class="tochart">
  <caption>Caption</caption>  
<tr>
    <th scope="row">Label</th>
    <td>Data</td>
</tr>
<tr>
    <th scope="row">Label</th>
    <td>Data</td>
</tr>
</table>
<p>I prefer to use the table header element to mark up the table row and the original script relied on these being <em>td</em> elements. A couple of changes to the javascript fixed that. I also decided to display the <em>caption</em> as a title on the resulting graph.</p>
<pre><code>
&lt;table class="tochart"&gt;
  &lt;caption&gt;Caption&lt;/caption&gt;  
  &lt;tr&gt;
    &lt;th scope="row"&gt;Label&lt;/th&gt;
    &lt;td&gt;Data&lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
    &lt;th scope="row"&gt;Label&lt;/th&gt;
    &lt;td&gt;Data&lt;/td&gt;
  &lt;/tr&gt;
&lt;/table&gt;
</code></pre>
<p>The original script only supported the 3D pie charts and in a couple of cases I wanted to generate bar-charts from the data or flat pie-charts. A few modifications later and you can pass a type parameter into the script via a class on the table.</p>
<p>The default if the parameter isn&#8217;t set is the flat pie-chart, which can also be specified via:</p>
<pre><code>&lt;table class="tochart typep"&gt;</code></pre>
<p>For the 3D pie-chart:</p>
<pre><code>&lt;table class="tochart typep3"&gt;</code></pre>
<p>The horizontal bar-chart is created with:</p>
<pre><code>&lt;table class="tochart typebhg"&gt;</code></pre>
<p>And finally the vertical bar-chart is set based on:</p>
<pre><code>&lt;table class="tochart typebvg"&gt;</code></pre>
<p>The complete modified version of Chris&#8217; script is below:</p>
<pre><code>(table2graph = function(){

  /* variables */
  var triggerClass = 'tochart';
  var chartClass = 'fromtable';
  var hideClass = 'hidden';
  var chartColor = 'FFCC33';
  var chartSize = '900x300';
  var chartType = 'p';
  
  var toTableClass = 'totable';
  var tableClass = 'generatedfromchart';
  /* end variables */

  var tables = document.getElementsByTagName('table');
  var sizeCheck = /\s?size([^\s]+)/;
  var colCheck = /\s?color([^\s]+)/;
  var typeCheck = /\s?type([^\s]+)/;
  for(var i=0;tables[i];i++){
    var t = tables[i];
    var c = t.className;
    var data = [];
    var labels = []
    if(c.indexOf(triggerClass) !== -1){
      var size = sizeCheck.exec(c);
      size = size ? size[1] : chartSize;
      var col = colCheck.exec(c);
      col = col ? col[1] : chartColor;
      var type = typeCheck.exec(c);
      type = type ? type[1] : chartType;
      
      if (type == 'bhg') {
        var label = 'chxl=1:|';
      } else {
       var label = 'chl=';
      }
      
      var caption = t.getElementsByTagName('caption')[0].innerHTML;
      var charturl = 'http://chart.apis.google.com/chart?cht=' + type + '&amp;chtt=' + caption + '&amp;chxt=x,y&amp;chco=' + col + '&amp;chs=' + size + '&amp;chd=t:';
      t.className += ' '+ hideClass;
      var ths = t.getElementsByTagName('tbody')[0].getElementsByTagName('th');
      var tds = t.getElementsByTagName('tbody')[0].getElementsByTagName('td');
      for(var j=0;tds[j];j+=1){
        labels.push(ths[j].getElementsByTagName('em')[0].innerHTML.toLowerCase());
        data.push(tds[j].innerHTML);
      };
      var chart = document.createElement('img');
      chart.setAttribute('src',charturl+data.join(',') + '&amp;' + label + labels.join('|'));
      chart.setAttribute('alt',t.getAttribute('summary'));
      chart.className = chartClass;
      t.parentNode.insertBefore(chart,t);
    };
  };
  
  /* convert charts to tables */
  var charts = document.getElementsByTagName('img');
  for(var i=0;charts[i];i++){
    if(charts[i].className.indexOf(toTableClass) !== -1){
      var t = document.createElement('table');
      var tbody = document.createElement('tbody');
      var data = charts[i].getAttribute('src');
      var th,td,tr;
      var values = data.match(/chd=t:([^&amp;]+)&amp;?/)[1];
      var labels = data.match(/chl=([^&amp;]+)&amp;?/)[1];
      var l = labels.split('|');
      var v = values.split(',');
      for(var j=0;l[j];j++){
        tr = document.createElement('tr');
        th = document.createElement('th');
        th.appendChild(document.createTextNode(l[j]));
        th.setAttribute('scope','row');
        td = document.createElement('td');
        td.appendChild(document.createTextNode(v[j]));
        tr.appendChild(th);
        tr.appendChild(td);
        tbody.appendChild(tr);
      };
      t.appendChild(tbody);
      t.setAttribute('summary',charts[i].getAttribute('alt'));
      charts[i].parentNode.insertBefore(t,charts[i]);
      charts[i].setAttribute('alt','');
      t.className = tableClass;
    };
  };
}());</code></pre></div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/2008/02/24/thinking-digital/">Thinking Digital</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2008-02-24T00:00:00+00:00" pubdate data-updated="true">Feb 24<span>th</span>, 2008</time>
        
         | <a href="/2008/02/24/thinking-digital/#disqus_thread">Comments</a>
        
      </p>
    
  </header>


  <div class="entry-content"><p>I&#8217;m starting to get excited about <a href="http://thinkingdigital.co.uk">Thinking Digital</a>. But first a bit of back-story.</p>
<p>I started out making the trip to <a href="http://atmedia2005.co.uk/">@media 2005</a> and since then have been a regular attendee of more conferences than I can shake a stick at. Lets say I caught the conference bug. But most of those have been within the web standards community niche and more recently I&#8217;ve been looking further afield for conference kicks, party due to the eclectic nature of <a href="http://barcamp.org">BarCamp</a> style events. Anyone in that positions inevitably takes a fancy to going along to <a href="http://www.ted.com/"><span class="caps">TED</span></a>. The <em>only</em> problem is the fact it&#8217;s already booked up until 2010, costs $6,000 just to for a standard membership and is invite only.</p>
<p>This year the folks over at <a href="http://codeworks.net">Codeworks</a>, which is a regional body set up to help us North East digital folk develop an industry, are organising their very own full size conference. The <a href="http://thinkandadrink.com">Think and a Drink</a> events have been running for a number of years and I&#8217;ve spoken a few times on web related bits and pieces. But these are purposely local events mainly for members and tend to crop up at the rate of once a month. <a href="http://thinkingdigital.co.uk">Thinking Digital</a> is a full size, 400 person, conference being held in Newcastle between the 21st and 23rd of May this year covering a similar set of wide ranging themes to <span class="caps">TED</span>; technology, design, mobile plus a bit of philosophy and futurism thrown in for good measure.</p>
<p>Now this is good for a few reasons. Only one of which is I can see the venue out of my apartment window. Costing only Â£475 and being in the UK would be a couple of other reasons to get excited. As an aside; I&#8217;m helping out as a board member along with the likes of <a href="http://www.cubicgarden.com/">Ian Forrester</a> but I&#8217;d gladly pay my way if I wasn&#8217;t.</p>
<p>The real reason for the excitement though is the calibre of some of the speakers. Ray Kurzweil, Greg Dyke, Dan Lyons (a.k.a. Fake Steve Jobs), Matt Locke, Aubrey De Grey and Tara Hunt to name a few I&#8217;m particularly interested in. And remember folks, this is in Newcastle. Which for the few Londoners reading is a couple of hours North of you. On a train with free wifi even.</p>
<p>Now this might not be a web conference but I&#8217;m pretty interested in the take of the likes of Ray Kurzweil on the web and what will happen in the near future. I&#8217;m also interested in the types of people who will make the trip &#8211; which is really the reason for this post. As everyone knows, one of the best parts of any conference is the chance to chat with like-minded (and not so like-minded) folks. So, who fancies coming along?</p></div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/2008/02/21/sorry-but-the-flickr-api-isnt-rest/">Sorry, but the Flickr API Isn&#39;t REST</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2008-02-21T00:00:00+00:00" pubdate data-updated="true">Feb 21<span>st</span>, 2008</time>
        
         | <a href="/2008/02/21/sorry-but-the-flickr-api-isnt-rest/#disqus_thread">Comments</a>
        
      </p>
    
  </header>


  <div class="entry-content"><p>After <a href="http://semanticcamp.tommorris.org">SemanticCamp</a> me and <a href="http://icepop.org/">Rey</a> popped in to see <a href="http://blog.whatfettle.com/">Paul</a> and everyone at <a href="http://www.osmosoft.com/">Osmosoft</a> towers. A good few interesting conversations ensued, including one about the difference between <a href="http://blog.whatfettle.com/2008/02/19/mashup-or-integration/">mashups and integration</a>. All good fun basically. <a href="http://simonmcmanus.com/">Simon</a> also had an <a href="http://simonmcmanus.com/2008/02/21/off-the-shelf-integration-in-enterprises/">interesting take on the topic</a> as well.</p>
<p>What has all this to do with the topic of this post? Well, Simon says:</p>
<blockquote>
<p>When compared to small RESTful APIs like flickr and twitter&#8230;</p>
</blockquote>
<p>Now I&#8217;m not really picking on Simon here, more that I&#8217;ve been meaning to write something on this topic for a while and this proved a good catalyst for a little rant.</p>
<p>The <a href="http://flickr.com">flickr</a> <a href="http://www.flickr.com/services/api/"><span class="caps">API</span></a> is pretty darn cool. But it&#8217;s not RESTful in pretty much any way you want to shake a stick at it. It&#8217;s a well designed <span class="caps">RPC</span> (remote procedure call) <span class="caps">API</span>. Now even flickr get this wrong. They even have <a href="http://www.flickr.com/services/api/response.rest.html">a page</a> which confuses the issue and makes <span class="caps">REST</span> out to be a response format based on <span class="caps">XML</span>. Bad flickr.</p>
<p><a href="http://www.flickr.com/services/api/request.rest.html">flickr states</a> that:</p>
<blockquote>
<p>The <span class="caps">REST</span> Endpoint <span class="caps">URL</span> is http://api.flickr.com/services/rest/</p>
</blockquote>
<p>This turns out to be completely against the whole RESTful principles. Lets try and explain. You can define most of what you want to do with an <span class="caps">API</span> with the use of nouns, verbs and content types. <span class="caps">REST</span> is based around limiting the set of verbs to those available in <span class="caps">HTTP</span>; for instance <span class="caps">GET</span>, <span class="caps">POST</span>, <span class="caps">PUT</span> and <span class="caps">DELETE</span>. For any given application or <span class="caps">API</span> you&#8217;ll also specify a set of content types (representations); for instance <span class="caps">HTML</span>, <span class="caps">JSON</span> or <span class="caps">XML</span>. All you get to play around with are the nouns, in the case of the web these are our URLs.</p>
<p>In a typical <span class="caps">RPC</span> style <span class="caps">API</span> you have one <span class="caps">URL</span> (like flickr does) which acts as the end point to which all calls are made. You then probably define a few functions which you can call. Lets look at a simple book example.</p>
<pre><code>getBook()
deleteBook()
createBook()
editBook()</code></pre>
<p>The RESTful way of designing this might look a little bit more like this:</p>
<pre><code>GET     /books/{book-id}
DELETE  /books/{book-id}
POST    /books
PUT     /books/{book-id}</code></pre>
<p>We mentioned content types or representations earlier. Lets say instead of the default response format we might want to get a <span class="caps">JSON</span> representation of a given book we might do something like the following.</p>
<pre><code>GET /books/{book-id}.json</code></pre>
<p>The advantages of using URLs as the <span class="caps">API</span> nouns in this way include more than just sane URLs for the site or application in question. The web is based around many of these architectural principles and that seemed to scale pretty well. The idea is that fell envisaged RESTful applications have an advantage here too. For me one of the real benefits of RESTful APIs are in the simplicity they bring to documentation. I already know the available verbs, all I need to know are the set of resource URLs and I can probably use <span class="caps">CURL</span> to work out the <span class="caps">REST</span> (sorry, bad pun).</p>
<p>This misunderstanding is pretty common. Even <a href="http://en.wikipedia.org/wiki/Representational_State_Transfer">WikiPedia</a> appreciates their is a problem:</p>
<blockquote>
<p>The difference between the uses of the term â€œRESTâ€ causes some confusion in technical discussions.</p>
</blockquote>
<p>This isn&#8217;t just pedantry on my part, well not quite. I&#8217;d recommend anyone involved in designing and architecting web sites read <a href="http://www.amazon.co.uk/RESTful-Web-Services-Leonard-Richardson/dp/0596529260">RESTful Web Services</a> as well as <a href="http://www.ics.uci.edu/~fielding/">Roy Fielding&#8217;s</a> <a href="http://www.ics.uci.edu/~fielding/pubs/dissertation/top.htm">Architectural Styles and the Design of Network-based Software Architectures</a>. But if you just want to <em>get</em> the general principles and don&#8217;t fancy wading through technical documents then you have to read <a href="http://tomayko.com/articles/2004/12/12/rest-to-my-wife">How I Explained <span class="caps">REST</span> to My Wife</a> hilariously written by <a href="http://tomayko.com/">Ryan Tomayko</a>.</p>
<p>And remember, just because an <span class="caps">API</span> makes use of <span class="caps">HTTP</span> doesn&#8217;t make it RESTful. I&#8217;m looking at you <a href="http://twitter.com">twitter</a>.</p></div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/2008/02/19/invited-to-join-wasp/">Invited to Join WaSP</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2008-02-19T00:00:00+00:00" pubdate data-updated="true">Feb 19<span>th</span>, 2008</time>
        
         | <a href="/2008/02/19/invited-to-join-wasp/#disqus_thread">Comments</a>
        
      </p>
    
  </header>


  <div class="entry-content"><p>I had a great time at <a href="http://semanticcamp.tommorris.org/">SemanticCamp</a> over the weekend which was not too much of a surprise. What was a surprise was getting back home to find out that I&#8217;ve been invited to join the <a href="http://www.webstandards.org/">Web Standards Project</a> (WaSP) on the <a href="http://www.webstandards.org/action/edutf">Education Task Force</a>. I even have my <a href="http://www.webstandards.org/about/members/grushgrove/">own page</a>.</p>
<p>Thanks for inviting me guys. Anyone who has had the misfortune of having me present during a discussion of the current state of web education knows it&#8217;s one of my favourite subjects. Hopefully I can make myself useful around the place and help with getting a few things done. More on this when I know more but in the meantime feel free to pester me endlessly if you have a particular axe to grind.</p></div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/2008/02/13/example-of-the-yahoo-live-api/">Example of the Yahoo Live Api</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2008-02-13T00:00:00+00:00" pubdate data-updated="true">Feb 13<span>th</span>, 2008</time>
        
         | <a href="/2008/02/13/example-of-the-yahoo-live-api/#disqus_thread">Comments</a>
        
      </p>
    
  </header>


  <div class="entry-content"><p><a href="http://live.yahoo.com/">Yahoo! Live</a> launched recently along with a nice <a href="http://developer.yahoo.com/ylive/rest_api/">RESTful <span class="caps">API</span></a>. I&#8217;ve spoken before about the beauty of <span class="caps">REST</span> being in lowering the barrier to hacking and when I wanted a quick feature for Live it was simplicity itself to put together.</p>
<p>A few friends are using it far too much it seems, <a href="http://ben-ward.co.uk/">Ben</a> has 7.6 hours and <a href="http://simonjobling.com">Si</a> has already clocked up 15 hours. But for the most part I keep missing their no-doubt highly entertaining antics. One thing that Live misses I feel is a favourite users or previously viewed channels list. Basically I want to see which of my friends who use the service are broadcasting right now. Something like:</p>
<p><a href="http://morethanseven.net/presents/yahoolive/"><img src="http://img.skitch.com/20080213-q7ntrbip3rhwbkdbykuwt4an5.render.png" alt="Yahoo! Live Online"/></a></p>
<p>The <span class="caps">API</span> request we&#8217;re interested in is the <a href="http://developer.yahoo.com/ylive/rest_api/channel.html">/channel/<span class="caps">PERMALINK</span></a> method. This lets us get information about whether the user is broadcasting at the moment.</p>
<pre><code>&lt;?php
$api = 'http://api.live.yahoo.com/api/v1/channel';
$friends = array(
  'garethr',
  'benward',
  'sijobling'
);
$statuses = array();
foreach ($friends as $friend) { 
  $response = simplexml_load_file($api . '/' . $friend);
  $name = $response-&gt;name; 
  if ($response-&gt;broadcast) {
    $status = 'live';
  } else {
    $status = 'offline';
  }
  $statuses["$name"] = $status;
}
function displaylist($array) {
  $output = '';
  if (count($array) &gt;= 0) {
    $output .= '&lt;ul&gt;';
    foreach ($array as $key =&gt; $value) {
      $output .= "&lt;li class=\"$value\"&gt;";
      $output .= "&lt;a href=\"http://live.yahoo.com/$key\"&gt;";
      $output .= "$key&lt;/a&gt;";
      $output .= "&lt;span&gt;$value&lt;/span&gt;&lt;/li&gt;";
    }
    $output .= '&lt;/ul&gt;';
  }
  return $output;
}
echo displaylist($statuses);
?&gt;</code></pre>
<p>I&#8217;ll add a few more people to <a href="http://morethanseven.net/presents/yahoolive/">my list</a> when I discover other people using the service. If you have an account leave a comment. I&#8217;ve added a touch of javascript as well so as to avoid having to reload the page manually. This way I can loiter on my little aggregator until someone I know starts broadcasting and head over to Live for whatever Si has been spending 15 hours doing.</p></div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/2008/02/04/continuous-integration-for-front-end-developers/">Continuous Integration for Front End Developers</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2008-02-04T00:00:00+00:00" pubdate data-updated="true">Feb 4<span>th</span>, 2008</time>
        
         | <a href="/2008/02/04/continuous-integration-for-front-end-developers/#disqus_thread">Comments</a>
        
      </p>
    
  </header>


  <div class="entry-content"><p>Most software developers, especially those with a grounding in Agile development methodologies, will probably be familiar with <a href="http://www.martinfowler.com/articles/continuousIntegration.html">Continuous Integration</a></p>
<blockquote>
<p>Continuous Integration is a software development practice where members of a team integrate their work frequently, usually each person integrates at least daily &#8211; leading to multiple integrations per day. <strong>Each integration is verified by an automated build (including test) to detect integration errors as quickly as possible</strong>.</p>
</blockquote>
<p>The emphasis above is mine, purely as it&#8217;s at the heart of what I&#8217;m going to ramble on about. A little closer to home <a href="http://theryanking.com">Ryan King</a> just <a href="http://theryanking.com/entries/2008/02/02/inursite/">posted about</a> a new site; <a href="http://inursite.com/">inursite</a>. The premise is simple; enter a few of your sites and <em>inursite</em> will visit them once a day and run a markup validation service over the page. You then get a feed of the pass or failure status. It&#8217;s simple but brilliant. For example, I have this very site added to the service. If I put some invalid markup in this post, tomorrow morning I&#8217;ll get an item in my feedreader telling me of my mistake. I&#8217;ll get that every day until I fix the problem.</p>
<p>This green/red (pass/fail) type approach to simple tests is what I find most powerful about continuous integration systems like &#8220;Cruise Control&#8221;:&quot;:http://cruisecontrol.sourceforge.net/. Ryan asked over on his site in one of the comments what I&#8217;d like to see, so lets see:</p>
<ul>
	<li>Has all the <span class="caps">CSS</span> been compressed using something like <a href="http://csstidy.sourceforge.net/">CSSTidy</a>.</li>
	<li>Has all the javascript been compressed using something like <a href="http://javascript.crockford.com/jsmin.html">JSMin</a>.</li>
	<li>Does any Javascript pass the harsh taskmaster that is <a href="http://www.jslint.com/">JSLint</a>.</li>
	<li>If my markup a little bloated? Maybe I could set a maximum size for the markup and get a fail is I go over that.</li>
	<li>Ditto <span class="caps">CSS</span> file size.</li>
	<li>Ditt Javascript.</li>
	<li>Ditto images.</li>
	<li>If pages have associated feeds, then validate them as well according to the relevant specification (probably <span class="caps">RSS</span> or Atom).</li>
	<li>How many <span class="caps">HTTP</span> Requests does it take to load the whole page, including all the relevant assets. <ins>I&#8217;d like to be able to set a maximum number.</ins></li>
	<li>How many hosts are required to load the whole page? I&#8217;d like to be able to set a maximum number and get a fail if I go over that.</li>
	<li>Is the page gzipped on the server.</li>
	<li>And just to keep this topical, does the page have either the IE8 meta element or the associated <span class="caps">HTTP</span> header set to a particular value.</li>
</ul>
<p>Lots of this is front-end best practice, some coming from the <span class="caps">YAHOO</span>! <a href="http://developer.yahoo.com/performance/">exceptional performance</a> work. It&#8217;s something <a href="http://24ways.org/2007/minification-a-christmas-diet">I&#8217;ve touched on before</a> too. Can anyone else think of other things you&#8217;d like to see when you&#8217;re working away crafting markup and <span class="caps">CSS</span>? Once you have all these tests running you could display them in widgets, gadgets, twitter, firefox extensions, large displays, mobile devices, the works.</p>
<p>Now that sounds like an awful lot of stuff for one person (or even for one application) but I have something else in mind. If <em>inursite</em> allowed you to hook up external webservices which accept a <span class="caps">URL</span> as an argument, along with any service specific parameters, and return true or false then, in theory, anyone could add their own custom checks to it. This becomes particularly useful for larger teams than are likely to have internal quality tools already. On top of all that I&#8217;d probably pay for a service like this that let me run it on demand (rather than once per day) &#8211; or maybe even better, pay for a downloadable version (a.l.a. <a href="http://haveamint.com">Mint</a>) I can install locally.</p>
<p>As you can probably tell, I think the general idea of continuous integration for front end web developer is one for which time has come. It&#8217;s simply part of our discipline growing up and becoming more professional. Whether Ryan looks to extend his fantastic simple service in this direction or not I hope something will come along that does all this and more. I might even work on it myself &#8211; but then I always say that!</p></div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/2008/01/30/simple-deployment-with-svn-and-phing/">Simple Deployment With SVN and Phing</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2008-01-30T00:00:00+00:00" pubdate data-updated="true">Jan 30<span>th</span>, 2008</time>
        
         | <a href="/2008/01/30/simple-deployment-with-svn-and-phing/#disqus_thread">Comments</a>
        
      </p>
    
  </header>


  <div class="entry-content"><p>Another approach to deploying web apps is to use <a href="http://phing.info/">Phing</a>. Phing is at heart a <span class="caps">PHP</span> clone of Ant,  another common build and deployment tool. The main advantage of using Phing, at least if you&#8217;re already using <span class="caps">PHP</span>, is close integration with other <span class="caps">PHP</span> specific tools (PHPDocumentor, PHPLint and PHPUnit to name a few) and ease of install.</p>
<p>Speaking to installation Phing has it&#8217;s own <span class="caps">PEAR</span> channel. I still think <span class="caps">PEAR</span> is great in so many different ways &#8211; it always makes me frown when I see people cussing at <span class="caps">PEAR</span> (especiallly the installer). You can install Phing as follows.</p>
<pre><code>pear channel-discover pear.phing.info
pear install phing/phing</code></pre>
<p>The <a href="http://phing.info/docs/guide/current/">Phing documentation</a> is nothing if not comprehensive. Unfortunately, unless you are pretty familiar with Ant or you&#8217;re trying to do something complex (and willing to invest the time) the chances are you&#8217;ll be a little lost. More and simpler examples for common problems would be useful for those beginners.</p>
<p>I might publish a few little recipes down the line or even a full commented production recipe but for the moment lets start simple. The following build script is designed to be run on your remote web server and relies on a subversion repository (hopefully you&#8217;re using source control, if not that&#8217;s another post I&#8217;m afraid). It simply exports the specified repository to the specified export directory on the server. Note that you need to set your own <span class="caps">SVN</span> details and replace the capitalised properly values. The following should be saved as <em>build.xml</em> on your web server, outside the web root.</p>
<pre><code>&lt;?xml version="1.0"?&gt;
&lt;project name="build" default="main"&gt;
  
  &lt;property name="exportdir"  value="WEB_ROOT" /&gt;
  &lt;property name="svnpath" value="YOUR_SVNPATH" /&gt;
  &lt;property name="username" value="YOUR_SVN_USERNAME" /&gt;
  &lt;property name="password" value="YOUR_SVN_PASSWORD" /&gt;
  &lt;property name="repo" value="YOUR_SVN_REPO" /&gt;
        
  &lt;target name="main" depends="svnexport"/&gt;
  
  &lt;target name="svnexport"&gt;
    &lt;svnexport
       svnpath="${svnpath}"
       username="${username}"
       password="${password}"
       nocache="true"
       repositoryurl="${repo}"
       todir="${exportdir}"/&gt;
  &lt;/target&gt;
&lt;/project&gt;</code></pre>
<p>Let&#8217;s break some of that down. Property definitions allow you to specify variables for use in your build script. In this example we only have one task specified so maybe we don&#8217;t need the extra abstraction but the moment we start reusing scripts or adding more tasks it&#8217;s a good idea.</p>
<pre><code>&lt;property name="exportdir"  value="./web" /&gt;</code></pre>
<p>The other major point of interest is the task itself. Here we make use of the properties we have already specified to run a subversion export. The <em>svnexport</em> task is build in to Phing.</p>
<pre><code>&lt;target name="svnexport"&gt;
  &lt;svnexport
     svnpath="${svnpath}"
     username="${username}"
     password="${password}"
     nocache="true"
     repositoryurl="${repo}"
     todir="${exportdir}"/&gt;
&lt;/target&gt;</code></pre>
<p>Also of note is the setting of a default task, <em>main</em>, as a property of the project element and specifying that the main task depends on another task, <em>svnexport</em>. Again, we could avoid that at this stage but the moment we add another few tasks then we&#8217;ll want more control over execution order.</p>
<p>Phing should be run from the directory containing the build script. You can run the command without any arguments, in which case the default task will be run (in our case <em>main</em>) or you can pass an argument to specify a specific task. For our simple build script  the two following commands do the same thing:</p>
<pre><code>phing</code></pre>

<pre><code>phing svnexport</code></pre>
<p>Given the above build script simple runs a subversion export command you might be wondering what use it is. The answer is not much at this stage. You <em>do</em> get a simple build script which can be stored in your source control system and used by the whole team. The real advantage is where you might go from here. If everyone in your team deploys in the same way (ie. using the build script) then anyone can add extra tasks and everyone gets the benefit. Simple example might be generating code documentation, running Unit tests (and not running the export if the tests fail) and creating a zip file of the deployed source for backup purposes.</p>
<p>Build scripts can get complicated quickly, but if you start out small and add tasks as you need and understand them, you should be able to raise the quality of your application and avoid easy to make mistakes.</p></div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/2008/01/27/questions-pointers-and-reality/">Questions, Pointers and Reality</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2008-01-27T00:00:00+00:00" pubdate data-updated="true">Jan 27<span>th</span>, 2008</time>
        
         | <a href="/2008/01/27/questions-pointers-and-reality/#disqus_thread">Comments</a>
        
      </p>
    
  </header>


  <div class="entry-content"><p>Along with an awful lot of noise, the whole X-UA-<span class="caps">COMPATIBLE</span> IE8 issue is also bringing out some well rounded and thought through arguments from people I admire.</p>
<p>I still disagree with <a href="http://adactio.com/journal/1403/">Jeremy Keith</a> on the default issue but agree with everything else. Jeremy says:</p>
<blockquote>
<p>Let me make it perfectly clear: I understand the need for version targeting. But the onus must be on the publisher to enable it.</p>
</blockquote>
<p>At the moment it comes down to a sense of stubborn realism on my part. All the people who know about the issue and the need for the new header (that would be me, Jeremy, probably you and the whole <em>web standards developer</em> crowd) are probably also in a position to add it fairly easily. All those that don&#8217;t know about the header <em>don&#8217;t have to know</em> about it. Ever. I would prefer if this wasn&#8217;t the case but alas I think it might be.</p>
<p><a href="http://www.isolani.co.uk/blog/standards/InternetExplorerReality">Mike Davies</a> has one of the most well argued points out their. Throwing into the pot the issue of content not served via a web server raises even more issues that make changing the default behaviour difficult. I think Mike sums this up pretty well:</p>
<blockquote>
<p>Every other browser has either started from scratch from the ground up (Firefox and Opera), or created a browser after the browser-wars (Safari). As such, all three have benefited from not having to support Microsoft&#8217;s excess baggage. And Microsoft being dragged to a complete stop because of it. This is Microsoft&#8217;s browser-war victory biting them in the ass.</p>
</blockquote>
<p>Whether we like it or not this issue is about Microsoft, and I (maybe naively) believe Microsoft would like nothing better than to get back up from the mat and innovate in the browser space. But they can&#8217;t because of the ball and chain.</p>
<p>Who hasn&#8217;t written at least some code that, in hindsight, turned into a horrible maintenance nightmare? You might dream of jumping in and rewriting it from scratch but if that code has already been shipped to a client then what is that client doing to do? Turning around and saying <em>actually, what we gave you originally was pretty rubbish</em> isn&#8217;t going to go down well &#8211; even when it&#8217;s the right thing to do.</p>
<p>Mike is right in that the IE team are actually going to be shipping two browsers. That has got to be a massive issue for them &#8211; certainly a bigger issue than me adding a new header to my site or a meta element to my pages. But if it lets the second of those browsers support CSS3, HTML5, <span class="caps">XHTML</span>, Canvas and anything else we dream of then I&#8217;m all for it. We all know the first of those browsers just won&#8217;t be up to the task.</p>
<p>One particular thorny problem I wasn&#8217;t aware of was issues surrounding accessibility. <a href="http://www.brucelawson.co.uk/index.php/2008/accessibility-implications-microsoft-versioning/">Bruce Lawson</a> has some of the details but in short by locking a large number of sites into the ways of IE7 we essentially freeze the (poor) state of accessibility on the web. <a href="http://splintered.co.uk">Patrick Lauke</a> also raises a related issue in the comments regarding further alienating screen reader and assistive technology developers. These points for me are ones I want addressing by Microsoft and one&#8217;s without resolution which would make me change my mind on this whole issue of defaults.</p>
<p>So, the jury is still out in my mind. I hope it is in the minds of those working closer to the heart of this problem at Microsoft. Like <a href="http://molly.com">Molly</a> I&#8217;m glad this issue has been raised now, rather than simply revealed at launch. I just hope the reason for that was to get the sort of high quality feedback we&#8217;re seeing in some areas of the community in order to test the waters and come to a consensus.</p></div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/2008/01/22/who-loses-out-to-x-ua-compatible/">Who Loses Out to X-UA-Compatible?</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2008-01-22T00:00:00+00:00" pubdate data-updated="true">Jan 22<span>nd</span>, 2008</time>
        
         | <a href="/2008/01/22/who-loses-out-to-x-ua-compatible/#disqus_thread">Comments</a>
        
      </p>
    
  </header>


  <div class="entry-content"><p>If you work on the web you&#8217;ll probably have already seen or noted the existence of the <a href="http://alistapart.com/issues/251">latest issue of A List Apart</a>:</p>
<ul>
	<li><a href="http://alistapart.com/articles/beyonddoctype">Beyond <span class="caps">DOCTYPE</span>: Web Standards, Forward Compatibility, and IE8</a></li>
	<li><a href="http://alistapart.com/articles/fromswitchestotargets">From Switches to Targets: A Standardista&#8217;s Journey</a></li>
</ul>
<p>My twitter feed positively exploded with negative feedback on this issue but I&#8217;ve only just got round to reading (and re-reading) the various interesting articles and (some half through through) comments. I though I&#8217;d have a think through who this affects.</p>
<p>What we&#8217;re disucssing is either adding a meta element to your documents or alternatively sending the relevant <span class="caps">HTTP</span> header. The code for that looks like:</p>
<pre><code>&lt;meta http-equiv="X-UA-Compatible" content="IE=8" /&gt;</code></pre>
<h3>IE Users</h3>
<p>Users of Internet Explorer get a bum deal here I think. Their browser is going to get bigger &#8211; potentially a lot bigger. With all those rendering engines rolled into one it&#8217;s also likely to need lots of memory. How this affects the mobile version of IE is anyones guess. Memory and file size are even more important here.</p>
<h3>Other Browser Vendors</h3>
<p>I have a feeling they will all go <em>Meh</em> and move along as if nothing happened. Certainly my experience of upgrades to Firefox, Safari and Opera (including recent bleeding edge versions) doesn&#8217;t break any of my bits of the web or the bits I frequent.</p>
<h3>Web Standards Savvy Designers and Developers</h3>
<p>A really cool feature for us designers and developers has gone unmentioned I feel. We&#8217;ve been asking Microsoft for one application in which we can test all their browsers in. IE8 will be that browser. Think about it. By changing the contents of the meta element (or the header) we can trigger the rendering engine to use IE6, IE7 or IE8.</p>
<p>I&#8217;m a big fan of the whole progressive enhancement approach, using new browser features that not everyone supports (generated content, CSS3 selectors, etc.) in a way that they don&#8217;t affect older browsers. If I were to use a feature not yet supported by IE7 but expected in IE8 for instance in this way I would expect it work in IE8. If I include an IE7 <em>X-UA-Compatible</em> declaration this won&#8217;t happen. Which is why I probably won&#8217;t include one. The problem is if I don&#8217;t include it at all I still have the same problem. I&#8217;ll come back to the solution (and the problem with the solution) in a moment.</p>
<h3>Other Web Designers and Developers</h3>
<p>Not everyone is using Web Standards, and even less get progressive enhancement. Most of the web is broken and we <em>are not going to fix this</em>. Virtually no one thinks XHTML2 is a good idea because it starts with this fact and says <em>&#8220;Let&#8217;s start again, but get it right this time&#8221;</em>. The fact that all those websites (and more importantly for Microsoft the users of those websites) standardise on IE7 is fine by me. IE7 isn&#8217;t that bad remember.</p>
<p>So, all in all I don&#8217;t see a major problem for me, or other savvy web designers and developers. I have one issue; namely the strong language around the use of <em>edge</em>.</p>
<blockquote>
<p>This option, though strongly discouraged, will cause a site to target the latest IE browser versions as they release.</p>
</blockquote>
<p>What this is describing is how things work now. It&#8217;s also how I want to work &#8211; using progressive enhancement to make my websites better when people have browsers that support them. I&#8217;ll be adding the relevant <em>edge</em> headers to my sites by default as I get a moment to tinker.</p>
<p>In my view this should allow the web to move forward faster with newer features hitting IE sooner, leaving a ghetto populated by IE users who don&#8217;t upgrade quickly and designers and developers who don&#8217;t want to be professional about their craft (or tools that aim for the lowest common denominator). Yes, I&#8217;ll need to add a header to all of my sites in the future but in return I get the latest version of IE that lets me test all previous versions of IE.</p></div>
  
  


    </article>
  
  <div class="pagination">
    
      <a class="prev" href="/page/21/">&larr; Older</a>
    
    <a href="/blog/archives">Blog Archives</a>
    
    <a class="next" href="/page/19/">Newer &rarr;</a>
    
  </div>
</div>

    </div>
  </div>
  <footer role="contentinfo">
</footer>
  

<script type="text/javascript">
      var disqus_shortname = 'morethanseven';
      
        
        var disqus_script = 'count.js';
      
    (function () {
      var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
      dsq.src = 'http://' + disqus_shortname + '.disqus.com/' + disqus_script;
      (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    }());
</script>







  <script type="text/javascript">
    (function(){
      var twitterWidgets = document.createElement('script');
      twitterWidgets.type = 'text/javascript';
      twitterWidgets.async = true;
      twitterWidgets.src = 'http://platform.twitter.com/widgets.js';
      document.getElementsByTagName('head')[0].appendChild(twitterWidgets);
    })();
  </script>




</body>
</html>
