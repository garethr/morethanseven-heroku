
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>Morethanseven</title>
  <meta name="author" content="Gareth Rushgrove">

  
  <meta name="description" content="Another approach to deploying web apps is to use Phing. Phing is at heart a PHP clone of Ant, another common build and deployment tool. The main &hellip;">
  

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <link rel="canonical" href="http://www.morethanseven.net/page/20">
  <link href="/favicon.ico" rel="icon">
  
  <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
  <script src="/javascripts/modernizr-2.0.js"></script>
  <script src="/javascripts/ender.js"></script>
  <script src="/javascripts/octopress.js" type="text/javascript"></script>
  <link href="/articles.atom" rel="alternate" title="Morethanseven" type="application/atom+xml">
  <!--Fonts from Google"s Web font directory at http://google.com/webfonts -->
<link href="http://fonts.googleapis.com/css?family=PT+Serif:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
<link href="http://fonts.googleapis.com/css?family=PT+Sans:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">

<meta content="etkmKMftqAyYJM6-DP_TTKJjV0EHM5vbVcaOloSo8Z8" name="google-site-verification">
<link href="http://www.myopenid.com/server" rel="openid.server">
<link href="http://garethr.myopenid.com/" rel="openid.delegate">

  
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-435455-1']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>


</head>

<body   class="no-sidebar"  >
  <header>
<hgroup>
<h1><a href="/">Morethanseven</a></h1>
<p>The blog of Gareth Rushgrove</p>

<div id='carbonads-container'>
  <div class='carbonad'>
    <div id='carbon'></div>
    <script type='text/javascript'>
      //<![CDATA[
        var z = document.createElement("script");
        z.type = "text/javascript";
        z.async = true;
        z.src = "http://engine.carbonads.com/z/12119/carbon_2_1_0_HORIZ";
        var s = document.getElementsByTagName("script")[0];
        s.parentNode.insertBefore(z, s);
      //]]>
    </script>
  </div>
</div>

</hgroup>
</header>


  <div id="main">
    <div id="content">
      <div class="blog-index">
  
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/2008/01/30/simple-deployment-with-svn-and-phing/">Simple Deployment With SVN and Phing</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2008-01-30T00:00:00+00:00" pubdate data-updated="true">Jan 30<span>th</span>, 2008</time>
        
         | <a href="/2008/01/30/simple-deployment-with-svn-and-phing/#disqus_thread">Comments</a>
        
      </p>
    
  </header>


  <div class="entry-content"><p>Another approach to deploying web apps is to use <a href="http://phing.info/">Phing</a>. Phing is at heart a <span class="caps">PHP</span> clone of Ant,  another common build and deployment tool. The main advantage of using Phing, at least if you&#8217;re already using <span class="caps">PHP</span>, is close integration with other <span class="caps">PHP</span> specific tools (PHPDocumentor, PHPLint and PHPUnit to name a few) and ease of install.</p>
<p>Speaking to installation Phing has it&#8217;s own <span class="caps">PEAR</span> channel. I still think <span class="caps">PEAR</span> is great in so many different ways &#8211; it always makes me frown when I see people cussing at <span class="caps">PEAR</span> (especiallly the installer). You can install Phing as follows.</p>
<pre><code>pear channel-discover pear.phing.info
pear install phing/phing</code></pre>
<p>The <a href="http://phing.info/docs/guide/current/">Phing documentation</a> is nothing if not comprehensive. Unfortunately, unless you are pretty familiar with Ant or you&#8217;re trying to do something complex (and willing to invest the time) the chances are you&#8217;ll be a little lost. More and simpler examples for common problems would be useful for those beginners.</p>
<p>I might publish a few little recipes down the line or even a full commented production recipe but for the moment lets start simple. The following build script is designed to be run on your remote web server and relies on a subversion repository (hopefully you&#8217;re using source control, if not that&#8217;s another post I&#8217;m afraid). It simply exports the specified repository to the specified export directory on the server. Note that you need to set your own <span class="caps">SVN</span> details and replace the capitalised properly values. The following should be saved as <em>build.xml</em> on your web server, outside the web root.</p>
<pre><code>&lt;?xml version="1.0"?&gt;
&lt;project name="build" default="main"&gt;
  
  &lt;property name="exportdir"  value="WEB_ROOT" /&gt;
  &lt;property name="svnpath" value="YOUR_SVNPATH" /&gt;
  &lt;property name="username" value="YOUR_SVN_USERNAME" /&gt;
  &lt;property name="password" value="YOUR_SVN_PASSWORD" /&gt;
  &lt;property name="repo" value="YOUR_SVN_REPO" /&gt;
        
  &lt;target name="main" depends="svnexport"/&gt;
  
  &lt;target name="svnexport"&gt;
    &lt;svnexport
       svnpath="${svnpath}"
       username="${username}"
       password="${password}"
       nocache="true"
       repositoryurl="${repo}"
       todir="${exportdir}"/&gt;
  &lt;/target&gt;
&lt;/project&gt;</code></pre>
<p>Let&#8217;s break some of that down. Property definitions allow you to specify variables for use in your build script. In this example we only have one task specified so maybe we don&#8217;t need the extra abstraction but the moment we start reusing scripts or adding more tasks it&#8217;s a good idea.</p>
<pre><code>&lt;property name="exportdir"  value="./web" /&gt;</code></pre>
<p>The other major point of interest is the task itself. Here we make use of the properties we have already specified to run a subversion export. The <em>svnexport</em> task is build in to Phing.</p>
<pre><code>&lt;target name="svnexport"&gt;
  &lt;svnexport
     svnpath="${svnpath}"
     username="${username}"
     password="${password}"
     nocache="true"
     repositoryurl="${repo}"
     todir="${exportdir}"/&gt;
&lt;/target&gt;</code></pre>
<p>Also of note is the setting of a default task, <em>main</em>, as a property of the project element and specifying that the main task depends on another task, <em>svnexport</em>. Again, we could avoid that at this stage but the moment we add another few tasks then we&#8217;ll want more control over execution order.</p>
<p>Phing should be run from the directory containing the build script. You can run the command without any arguments, in which case the default task will be run (in our case <em>main</em>) or you can pass an argument to specify a specific task. For our simple build script  the two following commands do the same thing:</p>
<pre><code>phing</code></pre>

<pre><code>phing svnexport</code></pre>
<p>Given the above build script simple runs a subversion export command you might be wondering what use it is. The answer is not much at this stage. You <em>do</em> get a simple build script which can be stored in your source control system and used by the whole team. The real advantage is where you might go from here. If everyone in your team deploys in the same way (ie. using the build script) then anyone can add extra tasks and everyone gets the benefit. Simple example might be generating code documentation, running Unit tests (and not running the export if the tests fail) and creating a zip file of the deployed source for backup purposes.</p>
<p>Build scripts can get complicated quickly, but if you start out small and add tasks as you need and understand them, you should be able to raise the quality of your application and avoid easy to make mistakes.</p></div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/2008/01/27/questions-pointers-and-reality/">Questions, Pointers and Reality</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2008-01-27T00:00:00+00:00" pubdate data-updated="true">Jan 27<span>th</span>, 2008</time>
        
         | <a href="/2008/01/27/questions-pointers-and-reality/#disqus_thread">Comments</a>
        
      </p>
    
  </header>


  <div class="entry-content"><p>Along with an awful lot of noise, the whole X-UA-<span class="caps">COMPATIBLE</span> IE8 issue is also bringing out some well rounded and thought through arguments from people I admire.</p>
<p>I still disagree with <a href="http://adactio.com/journal/1403/">Jeremy Keith</a> on the default issue but agree with everything else. Jeremy says:</p>
<blockquote>
<p>Let me make it perfectly clear: I understand the need for version targeting. But the onus must be on the publisher to enable it.</p>
</blockquote>
<p>At the moment it comes down to a sense of stubborn realism on my part. All the people who know about the issue and the need for the new header (that would be me, Jeremy, probably you and the whole <em>web standards developer</em> crowd) are probably also in a position to add it fairly easily. All those that don&#8217;t know about the header <em>don&#8217;t have to know</em> about it. Ever. I would prefer if this wasn&#8217;t the case but alas I think it might be.</p>
<p><a href="http://www.isolani.co.uk/blog/standards/InternetExplorerReality">Mike Davies</a> has one of the most well argued points out their. Throwing into the pot the issue of content not served via a web server raises even more issues that make changing the default behaviour difficult. I think Mike sums this up pretty well:</p>
<blockquote>
<p>Every other browser has either started from scratch from the ground up (Firefox and Opera), or created a browser after the browser-wars (Safari). As such, all three have benefited from not having to support Microsoft&#8217;s excess baggage. And Microsoft being dragged to a complete stop because of it. This is Microsoft&#8217;s browser-war victory biting them in the ass.</p>
</blockquote>
<p>Whether we like it or not this issue is about Microsoft, and I (maybe naively) believe Microsoft would like nothing better than to get back up from the mat and innovate in the browser space. But they can&#8217;t because of the ball and chain.</p>
<p>Who hasn&#8217;t written at least some code that, in hindsight, turned into a horrible maintenance nightmare? You might dream of jumping in and rewriting it from scratch but if that code has already been shipped to a client then what is that client doing to do? Turning around and saying <em>actually, what we gave you originally was pretty rubbish</em> isn&#8217;t going to go down well &#8211; even when it&#8217;s the right thing to do.</p>
<p>Mike is right in that the IE team are actually going to be shipping two browsers. That has got to be a massive issue for them &#8211; certainly a bigger issue than me adding a new header to my site or a meta element to my pages. But if it lets the second of those browsers support CSS3, HTML5, <span class="caps">XHTML</span>, Canvas and anything else we dream of then I&#8217;m all for it. We all know the first of those browsers just won&#8217;t be up to the task.</p>
<p>One particular thorny problem I wasn&#8217;t aware of was issues surrounding accessibility. <a href="http://www.brucelawson.co.uk/index.php/2008/accessibility-implications-microsoft-versioning/">Bruce Lawson</a> has some of the details but in short by locking a large number of sites into the ways of IE7 we essentially freeze the (poor) state of accessibility on the web. <a href="http://splintered.co.uk">Patrick Lauke</a> also raises a related issue in the comments regarding further alienating screen reader and assistive technology developers. These points for me are ones I want addressing by Microsoft and one&#8217;s without resolution which would make me change my mind on this whole issue of defaults.</p>
<p>So, the jury is still out in my mind. I hope it is in the minds of those working closer to the heart of this problem at Microsoft. Like <a href="http://molly.com">Molly</a> I&#8217;m glad this issue has been raised now, rather than simply revealed at launch. I just hope the reason for that was to get the sort of high quality feedback we&#8217;re seeing in some areas of the community in order to test the waters and come to a consensus.</p></div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/2008/01/22/who-loses-out-to-x-ua-compatible/">Who Loses Out to X-UA-Compatible?</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2008-01-22T00:00:00+00:00" pubdate data-updated="true">Jan 22<span>nd</span>, 2008</time>
        
         | <a href="/2008/01/22/who-loses-out-to-x-ua-compatible/#disqus_thread">Comments</a>
        
      </p>
    
  </header>


  <div class="entry-content"><p>If you work on the web you&#8217;ll probably have already seen or noted the existence of the <a href="http://alistapart.com/issues/251">latest issue of A List Apart</a>:</p>
<ul>
	<li><a href="http://alistapart.com/articles/beyonddoctype">Beyond <span class="caps">DOCTYPE</span>: Web Standards, Forward Compatibility, and IE8</a></li>
	<li><a href="http://alistapart.com/articles/fromswitchestotargets">From Switches to Targets: A Standardista&#8217;s Journey</a></li>
</ul>
<p>My twitter feed positively exploded with negative feedback on this issue but I&#8217;ve only just got round to reading (and re-reading) the various interesting articles and (some half through through) comments. I though I&#8217;d have a think through who this affects.</p>
<p>What we&#8217;re disucssing is either adding a meta element to your documents or alternatively sending the relevant <span class="caps">HTTP</span> header. The code for that looks like:</p>
<pre><code>&lt;meta http-equiv="X-UA-Compatible" content="IE=8" /&gt;</code></pre>
<h3>IE Users</h3>
<p>Users of Internet Explorer get a bum deal here I think. Their browser is going to get bigger &#8211; potentially a lot bigger. With all those rendering engines rolled into one it&#8217;s also likely to need lots of memory. How this affects the mobile version of IE is anyones guess. Memory and file size are even more important here.</p>
<h3>Other Browser Vendors</h3>
<p>I have a feeling they will all go <em>Meh</em> and move along as if nothing happened. Certainly my experience of upgrades to Firefox, Safari and Opera (including recent bleeding edge versions) doesn&#8217;t break any of my bits of the web or the bits I frequent.</p>
<h3>Web Standards Savvy Designers and Developers</h3>
<p>A really cool feature for us designers and developers has gone unmentioned I feel. We&#8217;ve been asking Microsoft for one application in which we can test all their browsers in. IE8 will be that browser. Think about it. By changing the contents of the meta element (or the header) we can trigger the rendering engine to use IE6, IE7 or IE8.</p>
<p>I&#8217;m a big fan of the whole progressive enhancement approach, using new browser features that not everyone supports (generated content, CSS3 selectors, etc.) in a way that they don&#8217;t affect older browsers. If I were to use a feature not yet supported by IE7 but expected in IE8 for instance in this way I would expect it work in IE8. If I include an IE7 <em>X-UA-Compatible</em> declaration this won&#8217;t happen. Which is why I probably won&#8217;t include one. The problem is if I don&#8217;t include it at all I still have the same problem. I&#8217;ll come back to the solution (and the problem with the solution) in a moment.</p>
<h3>Other Web Designers and Developers</h3>
<p>Not everyone is using Web Standards, and even less get progressive enhancement. Most of the web is broken and we <em>are not going to fix this</em>. Virtually no one thinks XHTML2 is a good idea because it starts with this fact and says <em>&#8220;Let&#8217;s start again, but get it right this time&#8221;</em>. The fact that all those websites (and more importantly for Microsoft the users of those websites) standardise on IE7 is fine by me. IE7 isn&#8217;t that bad remember.</p>
<p>So, all in all I don&#8217;t see a major problem for me, or other savvy web designers and developers. I have one issue; namely the strong language around the use of <em>edge</em>.</p>
<blockquote>
<p>This option, though strongly discouraged, will cause a site to target the latest IE browser versions as they release.</p>
</blockquote>
<p>What this is describing is how things work now. It&#8217;s also how I want to work &#8211; using progressive enhancement to make my websites better when people have browsers that support them. I&#8217;ll be adding the relevant <em>edge</em> headers to my sites by default as I get a moment to tinker.</p>
<p>In my view this should allow the web to move forward faster with newer features hitting IE sooner, leaving a ghetto populated by IE users who don&#8217;t upgrade quickly and designers and developers who don&#8217;t want to be professional about their craft (or tools that aim for the lowest common denominator). Yes, I&#8217;ll need to add a header to all of my sites in the future but in return I get the latest version of IE that lets me test all previous versions of IE.</p></div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/2008/01/19/a-few-interesting-upcoming-events/">A Few Interesting Upcoming Events</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2008-01-19T00:00:00+00:00" pubdate data-updated="true">Jan 19<span>th</span>, 2008</time>
        
         | <a href="/2008/01/19/a-few-interesting-upcoming-events/#disqus_thread">Comments</a>
        
      </p>
    
  </header>


  <div class="entry-content"><p>After a break over Christmas the web world is back in full swing with a few upcoming events.</p>
<p><a href="http://barcamp.org/BarCampScotland2008">BarCamp Scotland</a> &#8211; <em>February 2nd</em>.</p>
<p>I only just found out about this one but it looks like a few people from Refresh Newcastle and Refresh Edinburgh are going to make it along. The short notice does mean I have to think of something to talk about sharpish though.</p>
<p><a href="http://www.thinkandadrink.com/">Think and a Drink</a> &#8211; <em>February 7th</em></p>
<p>Bit of shameless self promotion here. I&#8217;m speaking at the monthly <a href="http://www.codeworks.net/">Codeworks</a> get together on something to do with the Web. Also speaking is <a href="http://blog.whatfettle.com/">Paul Downey</a> from BT and another regular BarCamp attendee. If you&#8217;re around Newcastle try and get along (it&#8217;s a membership event but let me know if you want to go along and I&#8217;ll speak with the organisers).</p>
<p><a href="http://semanticcamp.tommorris.org/">Semantic Camp</a> &#8211; <em>February 16th &#8211; 17th</em></p>
<p>A whole BarCamp style event brought to you by <a href="http://tommorris.org">tommorris</a>. This looks likely to be particularly interesting event I think.</p>
<p><a href="http://futureofwebdesign.com/">Future of Web Design</a> &#8211; <em>April 17th &#8211; 18th</em></p>
<p><em>The Future of&#8230;</em> rolls into town again, this time with a focus on web design. I&#8217;d be tempted to go along to this solely for the Photoshop tennis doubles match with <a href="http://stuffandnonsense.co.uk/">Andy Clarke</a> commentating. The rest of the content looks pretty good to.</p>
<p><a href="http://thinkingdigital.co.uk">Thinking Digital</a> &#8211; <em>May 21st &#8211; 23rd</em></p>
<p>Another event I&#8217;m involved in, this time on the board along with <a href="http://www.cubicgarden.com">Ian Forrester</a> from The <span class="caps">BBC</span> and Mike Butcher from <a href="http://uk.techcrunch.com">Techcrunch</a>. This one is a little different to most of the events I go along to &#8211; being less web centric and more about all sorts of interesting ideas. With the likes of <a href="http://horsepigcow.com/">Tara Hunt</a>, Sean Phelan (<a href="http://www.multimap.com/">MultiMap</a>), <a href="http://www.test.org.uk/">Matt Locke</a> and <a href="http://fakesteve.blogspot.com/">Dan Lyons</a> (a.k.a. Fake Steve Jobs) speaking it should be good fun. Oh, and did I mention it&#8217;s in Newcastle?</p>
<p>And look, only two of those are in London!</p>
<p>It&#8217;s already looking like 2008 will be even more jam packed than last year. I also have a sneaking feeling that their will be lots more events <em>Up North</em> this year than last. It will be interesting to see how this works out. Will more people come along that might not have travelled down to London? Will the event happy northerners still go to London as well? Will anyone from London travel north of Watford? Time will tell.</p></div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/2008/01/13/on-process-and-design/">On Process and Design</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2008-01-13T00:00:00+00:00" pubdate data-updated="true">Jan 13<span>th</span>, 2008</time>
        
         | <a href="/2008/01/13/on-process-and-design/#disqus_thread">Comments</a>
        
      </p>
    
  </header>


  <div class="entry-content"><p>I consider myself something of a hybrid, flirting with both the design and development side of things. I also like to think of myself as something of a student of the discipline; reading and consuming as much knowledge as possible on the process as well as the practice. Something I took to pondering while reading <a href="http://www.pragprog.com/titles/mjwti">My Job Went to India</a> was why the majority of theory books tend to be from the software side?</p>
<p>It&#8217;s appears the same when it comes to discussions of process, and in turn innovation within process. Their is lots of talk around Agile processes and practices amongst software developers, but I don&#8217;t see lots of designers discussing the how. User Centred Design is maybe a slight exception, but again it seems to be the software people and information architects, as apposed to those who consider themselves designers, who talk about this. I&#8217;m just wondering whether others have found this too?</p>
<p>The <a href="http://www.designcouncil.org.uk">Design Council</a> published a pretty good resource <a href="http://www.designcouncil.org.uk/en/About-Design/">About Design</a> but I haven&#8217;t seen much other real literature on a modern design process. <a href="http://www.communicatingdesign.com/">Communicating Design</a> is a fantastic book on design documentation, but doesn&#8217;t frame this in terms of a discussion of process. If anyone knows of any books or blogs out their on the subject I&#8217;d love to know about them. I&#8217;d love to be proved wrong and end up with a good reading list.</p>
<p><a href="http://www.pragprog.com/titles/mjwti">My Job Went to India</a> (which is excellent by the way) contains 52 hints and tips for your career as a programmer. In reality most of these ideas apply to any creative discipline, only the examples and analogies need changing. You could probably argue the same for books like <a href="http://pragmaticprogrammer.com/the-pragmatic-programmer">The Pragmatic Programmer</a>, <a href="http://www.pragprog.com/titles/pad">Practices of an Agile Developer</a> and <a href="http://en.wikipedia.org/wiki/Peopleware">Peopleware</a>. I&#8217;m also thinking whether or things like <a href="http://en.wikipedia.org/wiki/The_Mythical_Man-Month">the mythical man month</a> apply? Or if other <em>truths</em> of the design practice exist?</p>
<p>The importance of design in any discipline is becoming increasingly well recognised. But where will the next generation of managers learn about how to manage designers and the design process? One of the problems with front end web development and design work has been the difficulty of learning the craft. Is this the same for managing the web design process?</p></div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/2008/01/07/how-to-deploy-php-sites-with-the-pake-build-tool/">How to Deploy PHP Sites With the Pake Build Tool</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2008-01-07T00:00:00+00:00" pubdate data-updated="true">Jan 7<span>th</span>, 2008</time>
        
         | <a href="/2008/01/07/how-to-deploy-php-sites-with-the-pake-build-tool/#disqus_thread">Comments</a>
        
      </p>
    
  </header>


  <div class="entry-content"><p>So in case you hadn&#8217;t guessed project automation is the new black. I&#8217;ve been getting back into some development work recently with <a href="http://isitbirthday.com">Is it Birthday?</a> and <a href="http://getjobsin.com">getjobsin</a> and trying to automate as much of the repetitive and boring work as possible.</p>
<p>I&#8217;m not absolutely sure that that many people outside large or particularly organised teams realise that large web sites are not generally <em>deployed</em> by someone with an <span class="caps">FTP</span> client and crossed fingers. This sort of effort, along with other repetitive tasks like running tests or generating documentation, can be automated. This is a win-win for everyone. It&#8217;s more reliable (scripts don&#8217;t forget to restart a service before they go home), quicker and removes the need for having one person in charge of deployments.</p>
<p>Even where people know about this build process idea they might not use it for their projects, probably for similar reasons why not everyone uses source control. I think the reason is probably that most web designers and developers (even particularly geeky ones) thing this software engineering stuff is maybe a step too far. Their is also something of a barrier to entry, knowing where to look and how to get started without reading lots of documentation (often filled with <span class="caps">XML</span> examples) and trial and error. Also project automation is apparently not sexy?</p>
<p>Anyway, if you&#8217;ve been working with Rails you will have come across <a href="http://rake.rubyforge.org/">Rake</a>, which is a build tool used to automate various tasks. Well the nice <a href="http://www.symfony-project.org/">symfony</a> people have written a <span class="caps">PHP</span> version called <a href="http://www.pake-project.com/">Pake</a> for use as part of the framework. It&#8217;s used for all the command line action, from running tests to clearing the cache and <a href="http://www.symfony-project.org/book/1_0/16-Application-Management-Tools#Using%20rsync%20for%20Incremental%20File%20Transfer">automating deployments</a>. Pake is however a separate tool that you can use in your own projects, whatever framework or hand rolled codebase you are using.</p>
<p>Pake can be downloaded using <a href="http://pear.php.net"><span class="caps">PEAR</span></a> on the command line:</p>
<pre><code>pear upgrade PEAR
pear channel-discover pear.symfony-project.com
pear install symfony/pake</code></pre>
<p>The documentation for Pake is pretty much non-existent as far as I can tell, but it is a really handy tool so worth a little effort. The best source of knowledge is to look through the default Pake tasks that are provided as part of symfony. One of my favourites, which we&#8217;ll look at now, allows for incremental deployments via Rsync over <span class="caps">SSH</span>. I&#8217;ve been using this with non-symfony projects too.</p>
<p>Rsync is a command line tool for syncronising two file structures. The Rsync command that does most of the heavy lifting for the deployment looks like the following. Note I&#8217;ve used {} to denote placeholders in the following examples.</p>
<pre><code>rsync --progress --azC --force \
--delete -e ssh ./ {user}@{host}:{dir}</code></pre>
<p>The sync task I&#8217;m using is straight from symfony, but the licence allows for distribution so here is an <a href="http://morethanseven.net/_assets/downloads/pake/pake.zip">example zip of all the files needed to follow along</a>. You&#8217;ll need these to follow along as I haven&#8217;t printed the full sourcecode for the pakefile here.</p>
<p>First a little configuration. Using <a href="http://www.yaml.org/"><span class="caps">YAML</span></a> we define an environment, <em>staging</em> in this case_ and specify a host, port, user and the full path on the remote server. You can of course specify multiple environments in this file, we&#8217;ll see how to use them shortly.</p>
<pre><code>[staging]
  host={host}
  port=22
  user={user}
  dir={dir}</code></pre>
<p>You can also include an <em>rsync_exclude.txt</em> or an <em>rsync_include.txt</em> file. This gives you control over the files being synced when you run the Pake task. The following example is a good starting point, it stops you pushing those pesky .DS_Store files that <span class="caps">OSX</span> creates to you web server, as well as avoiding subversion metadata and the configuration files for the Pake task.</p>
<pre><code>.svn
.DS_Store
/config/properties.ini
/config/rsync_exclude.txt
/config/rsync_include.txt
/config/rsync.txt</code></pre>
<p>We can now run the following command, from the directory containing the pakefile.php script, using Pake. The first example will do a dry run, showing you what will happen. You&#8217;ll be prompted for your <span class="caps">SSH</span> password as part of the command unless you&#8217;re using keys for authentication.</p>
<pre><code>pake sync staging</code></pre>
<p>When you&#8217;re happy you can run the sync command with the go option which will instruct Rsync to do it&#8217;s thing.</p>
<pre><code>pake sync staging go</code></pre>
<p>Pake has a handy flag to find out what tasks are available.</p>
<pre><code>pake -T</code></pre>
<p>This should give you a list of tasks and a brief description, useful to find out what you can do if you&#8217;ve been away from a project for a while.</p>
<p>This is a pretty simple example but one I&#8217;m already finding useful. Rsync is but one way of deploying apps but with Pake has the advantage of being simple and in lots of situations good enough. It&#8217;s certainly better than a manual deployment process. It would be simple enough to build into the task a simple logging system so you have a log of all deployments; when they happened and who did them for instance.</p>
<p>If that has whet your appetite then their are other deployment tools you might want to look into; <a href="http://www.capify.org/">Capistrano</a> (Ruby), <a href="http://ant.apache.org/">Ant</a> (Java), <a href="http://maven.apache.org/">Maven</a> (Java) and <a href="http://phing.info">Phing</a> (<span class="caps">PHP</span>) spring to mind. If anyone knows of a Python equivalent that would be useful too? I&#8217;m also using Phing for a few tasks on projects at the moment, mainly for some nifty Subversion tasks (and you can use Phing with Pake as symfony does), but that will have to wait until another post.</p>
<p>So, what are peoples experiences of build tools? Any good pointers? Or maybe reasons why you don&#8217;t use them in your projects?</p></div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/2008/01/05/refresh-map/">Refresh Map</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2008-01-05T00:00:00+00:00" pubdate data-updated="true">Jan 5<span>th</span>, 2008</time>
        
         | <a href="/2008/01/05/refresh-map/#disqus_thread">Comments</a>
        
      </p>
    
  </header>


  <div class="entry-content"><p>It turns out that their are now nearly 40 <a href="http://www.refreshingcities.org/">Refresh</a> groups scattered around and about. Here&#8217;s a <a href="http://maps.google.co.uk/maps/ms?ie=UTF8&amp;hl=en&amp;msa=0&amp;ll=43.580391,-56.25&amp;spn=98.199649,202.5&amp;z=2&amp;om=1&amp;msid=103845568847240179832.000442fedc66a55c4744b">quick map of them all</a>. It&#8217;s pretty interesting how all these groups have picked up on a simple word.</p>
<p><iframe width="560" height="350" frameborder="0" scrolling="no" marginheight="0" marginwidth="0" src="http://maps.google.co.uk/maps/ms?ie=UTF8&amp;hl=en&amp;om=1&amp;s=AARTsJpLByU1_UoXjtzM2l03IoKFmn1HHw&amp;msa=0&amp;msid=103845568847240179832.000442fedc66a55c4744b&amp;ll=38.891033,-76.992187&amp;spn=90.392203,196.875&amp;z=2&amp;output=embed"></iframe></p>
<p>For anyone in the Newcastle are we&#8217;re having a meetup next week, on Thursday evening, as it happens, the <a href="http://upcoming.yahoo.com/event/396927/">details are on Upcoming</a> if you fancy coming along.</p></div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/2008/01/04/things-to-entertain-us-in-2008/">Things to Entertain Us in 2008</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2008-01-04T00:00:00+00:00" pubdate data-updated="true">Jan 4<span>th</span>, 2008</time>
        
         | <a href="/2008/01/04/things-to-entertain-us-in-2008/#disqus_thread">Comments</a>
        
      </p>
    
  </header>


  <div class="entry-content"><p>This being a blog and it being the start of a new year (2008 for those not following closely) I feel obliged to list of few predictions of sorts. Rather than concrete <em>this will happen</em> things here are a few bits and pieces I think will be interesting over the next year.</p>
<h2>Site Specific Browsers</h2>
<p>A <a href="http://blog.whatfettle.com/2008/01/04/a-vision-of-the-web-in-2008/">few</a> <a href="http://factoryjoe.com/blog/2007/12/28/fluid-prism-mozpad-and-site-specific-browsers/">people</a> have already waxed lyrical about Site Specific Browsers and after trying out &#8220;Prism&#8221;:<a href="http://labs.mozilla.com/2007/10/prism/">Prism</a> for a few weeks I can say I really like the idea. Their are a couple of teething problems, both with the idea and the current implementations, but all seem solvable with a little focus. Security (sandbox everything), memory footprint (as small as possible) and integration with the desktop (local storage, <a href="http://gears.google.com/">Google Gears</a>?).</p>
<p>I think their are already a couple of extreme examples of this idea in the wild, both of which I&#8217;m already pretty interested in. <a href="http://www.joost.com/">Joost</a> are doing some pretty cool things with their bespoke application and web site backend and <a href="http://www.songbirdnest.com/">Songbird</a> just hit version 0.4 and is looking pretty nice.</p>
<h2>Mobile</h2>
<p>We&#8217;ll see more and more people playing with mobile apps next year I&#8217;m thinking. Mobile browsers (special mentions to <a href="http://www.operamini.com/">Opera Mini</a> and Mobile Safari here) are getting better and better and the iPhone (at least in the UK) has hopefully started something with regards fixed cost unlimited data. With some good <a href="http://mobilewebbook.com/">materials</a> already in print, next years <a href="http://future-of-mobile.com/">Future of Mobile</a> likely to be bigger and better than before and half the web developers I know pondering how they get to work with mobile I see more cool stuff happening here.</p>
<h2>The Backend</h2>
<p><a href="http://www.wait-till-i.com/">Chris</a> has made a <a href="http://www.wait-till-i.com/2007/12/30/lets-make-2008-the-year-of-embracing-the-server-side-with-ajax">call to arms</a><br />
 (of sorts) and I&#8217;m hoping this comes to pass. It&#8217;s becoming more and more apparent that the best teams are agile and multi-disciplinary and both sides of this divide have lots to gain from each other. For starters most front end people could probably do with learning some good old fashioned software engineering stuff; build tools, source control, deployment, testing, etc. As for the backend guys; how about unobtrusive applications, accessibility and the importance of good quality markup? Apologies for the huge generalisations here, but hopefully you know what I&#8217;m getting at.</p>
<h2>Software as Infrastructure</h2>
<p><a href="http://blog.gardeviance.org/">Simon Wardley</a> and others have been talking about software systems as infrastructure for a good while and I think we&#8217;ve seen glimpses of this in the last year. Whether it&#8217;s people using <a href="http://twitter.com">Twitter</a> for interesting projects (<a href="http://foamee.com">Foamee</a> for instance) or Amazon and their web service platform (<a href="http://aws.amazon.com/s3">S3</a>, <a href="http://aws.amazon.com/ec2">EC2</a>, <a href="http://www.amazon.com/b?ie=UTF8&amp;node=342335011">SimpleDB</a>, <a href="http://www.amazon.com/b?ie=UTF8&amp;node=342429011">DevPay</a>) we have a start. I think we&#8217;ll see lots more of this sort of drop in web based software over the next year. The key seems to be thinking about things in a RESTful manner, and throwing in as much publicly exposed <span class="caps">JSON</span>, <span class="caps">RSS</span> and Microformats as possible. It will also be interesting to see if the <a href="http://bitworking.org/projects/atom/draft-ietf-atompub-protocol-09.html">Atom Publishing Protocol</a> takes off next year too.</p>
<h2>Education</h2>
<p>Education is coming up more and more in conversation between people involved in web design and development it seams, both off and <a href="http://www.airbagindustries.com/archives/airbag/help.php">online</a>. I had a great conversation with <a href="http://www.rachelandrew.co.uk/">Rachel</a> and <a href="http://www.contentwithstyle.co.uk">Mike</a> after @media and then another good discussion with Dan Dixon, <a href="http://andybudd.com/">Andy</a>, <a href="http://kid666.com/">Tom</a> and others at barcamp and know other smart people are thinking about this too. I&#8217;m hoping to get something off the group here in the next month or so but would love to know about any other industry driven initiatives anyone might know about?</p>
<p>Ok, so that&#8217;s more a list of things I <em>think</em> I&#8217;ll end up focusing on (as much as I ever focus on anything) over the next year. We&#8217;ll see how that goes and if other things crop up that are more interesting. What about you? Anything you think is going to be play worthy next year?</p></div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/2007/12/28/is-it-birthday/">Is It Birthday?</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2007-12-28T00:00:00+00:00" pubdate data-updated="true">Dec 28<span>th</span>, 2007</time>
        
         | <a href="/2007/12/28/is-it-birthday/#disqus_thread">Comments</a>
        
      </p>
    
  </header>


  <div class="entry-content"><p>Did you love the simplicity of <a href="http://isitchristmas.com">Is it Christmas?</a> but feel left out, wondering why Christmas should be more important than, say, <em>you</em>? Well here&#8217;s your answer; <a href="http://isitbirthday.com">Is it Birthday?</a></p>
<p><a href="http://isitbirthday.com"><img src="http://morethanseven.net/_assets/media/imgIsitbirthday.png" title="Is it Birthday? home page" alt="Is it Birthday? home page" /></a></p></div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/2007/12/26/nice-bits-of-symfony-web-debug-toolbar/">Nice Bits of Symfony: Web Debug Toolbar</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2007-12-26T00:00:00+00:00" pubdate data-updated="true">Dec 26<span>th</span>, 2007</time>
        
         | <a href="/2007/12/26/nice-bits-of-symfony-web-debug-toolbar/#disqus_thread">Comments</a>
        
      </p>
    
  </header>


  <div class="entry-content"><p>I <a href="http://morethanseven.net/posts/getting-going-with-symfony/">mentioned previously</a> that I&#8217;d been playing with the <a href="http://www.symfony-project.org/">symfony</a> framework on a couple of projects and I have to admit to being more and more impressed as I wade in looking for things. I&#8217;ve worked with enough <span class="caps">MVC</span>-like frameworks to know they are all quite similar in more ways than they are dramatically different. So it&#8217;s the little bits and pieces that win you over.</p>
<p>One of my favourite little bits in symfony has to be the Web Debug Toolbar. When running in development mode you get a little menu floating above your application like so (top right hand corner).</p>
<p><img src="http://morethanseven.net/_assets/media/imgSymfonyToolbar.png" title="Web page showing the symfony web debug toolbar in the top right corner" alt="Web page showing the symfony web debug toolbar in the top right corner" /></p>
<p>This gives you all sorts of useful information as you&#8217;re developing your application &#8211; from the number of database queries to the rendering time, with a full logger built in. It&#8217;s also been particularly useful in learning symfony &#8211; being able to follow the entire request through the stack from the logger is really handy when you don&#8217;t know what is going on.</p>
<p><img src="http://morethanseven.net/_assets/media/imgSymfonyToolbar2.png" title="Web page showing the symfony web debug toolbar fully expanded" alt="Web page showing the symfony web debug toolbar fully expanded" /></p>
<p>With the increasing use of object relational mapping in web frameworks it&#8217;s quite easy to end up with a <em>working</em> application on your development box that turns out to absolutely hammer your database when used in the real world by only a few hundred people (I&#8217;m looking at you tagging). The database utilities, showing the number of queries and the <span class="caps">SQL</span> for those queries, is particularly handy for finding bottlenecks here.</p>
<p><img src="http://morethanseven.net/_assets/media/imgSymfonySQL.png" title="Web page showing the symfony web debug toolbar SQL view" alt="Web page showing the symfony web debug toolbar SQL view" /></p>
<p>I&#8217;ve not come across something similar in other frameworks, <span class="caps">PHP</span> or otherwise. I&#8217;d be interested to know if similar things do exist for Rails or Django in particular.</p></div>
  
  


    </article>
  
  <div class="pagination">
    
      <a class="prev" href="/page/21/">&larr; Older</a>
    
    <a href="/blog/archives">Blog Archives</a>
    
    <a class="next" href="/page/19/">Newer &rarr;</a>
    
  </div>
</div>

    </div>
  </div>
  <footer role="contentinfo">
</footer>
  

<script type="text/javascript">
      var disqus_shortname = 'morethanseven';
      
        
        var disqus_script = 'count.js';
      
    (function () {
      var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
      dsq.src = 'http://' + disqus_shortname + '.disqus.com/' + disqus_script;
      (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    }());
</script>







  <script type="text/javascript">
    (function(){
      var twitterWidgets = document.createElement('script');
      twitterWidgets.type = 'text/javascript';
      twitterWidgets.async = true;
      twitterWidgets.src = 'http://platform.twitter.com/widgets.js';
      document.getElementsByTagName('head')[0].appendChild(twitterWidgets);
    })();
  </script>




</body>
</html>
