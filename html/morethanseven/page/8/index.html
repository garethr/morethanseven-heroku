
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>Morethanseven</title>
  <meta name="author" content="Gareth Rushgrove">

  
  <meta name="description" content="I was just thinking about the Design it Build it conference later in the year (full disclosure: I&#8217;m speaking). Specifically the people speaking &hellip;">
  

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <link rel="canonical" href="http://www.morethanseven.net/page/8">
  <link href="/favicon.ico" rel="icon">
  
  <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
  <script src="/javascripts/modernizr-2.0.js"></script>
  <script src="/javascripts/ender.js"></script>
  <script src="/javascripts/octopress.js" type="text/javascript"></script>
  <link href="/articles.atom" rel="alternate" title="Morethanseven" type="application/atom+xml">
  <!--Fonts from Google"s Web font directory at http://google.com/webfonts -->
<link href="http://fonts.googleapis.com/css?family=PT+Serif:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
<link href="http://fonts.googleapis.com/css?family=PT+Sans:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">

<meta content="etkmKMftqAyYJM6-DP_TTKJjV0EHM5vbVcaOloSo8Z8" name="google-site-verification">
<link href="http://www.myopenid.com/server" rel="openid.server">
<link href="http://garethr.myopenid.com/" rel="openid.delegate">

  
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-435455-1']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>


</head>

<body   class="no-sidebar"  >
  <header>
<hgroup>
<h1><a href="/">Morethanseven</a></h1>
<p>The blog of Gareth Rushgrove</p>

<div id='carbonads-container'>
  <div class='carbonad'>
    <div id='carbon'></div>
    <script type='text/javascript'>
      //<![CDATA[
        var z = document.createElement("script");
        z.type = "text/javascript";
        z.async = true;
        z.src = "http://engine.carbonads.com/z/12119/carbon_2_1_0_HORIZ";
        var s = document.getElementsByTagName("script")[0];
        s.parentNode.insertBefore(z, s);
      //]]>
    </script>
  </div>
</div>

</hgroup>
</header>


  <div id="main">
    <div id="content">
      <div class="blog-index">
  
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/2010/02/01/rise-house-team/">The Rise of the In-house Team?</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2010-02-01T00:00:00+00:00" pubdate data-updated="true">Feb 1<span>st</span>, 2010</time>
        
         | <a href="/2010/02/01/rise-house-team/#disqus_thread">Comments</a>
        
      </p>
    
  </header>


  <div class="entry-content"><p>I was just thinking about the <a href="http://www.dibiconference.com/">Design it Build it</a> conference later in the year (full disclosure: I&#8217;m speaking). Specifically the people speaking on the developer track. Between myself, Michael Brunton-Spall from The Guardian, David Singleton from Last.fm and Emma Persky from Gumtree four of the six speakers work on in-house teams. Not early stage start-ups, not large software/advertising companies, not as freelancers but in a reasonable sized company on a development team.</p>
<p>My original background was working in agencies, and then a stint working for myself and I&#8217;m constantly interested by the different facets of the web software industry. I think conferences or magazines aimed at your average interested web developer or designer play an interesting role in what people perceive as normal. If all you see are people who work as a freelancer you start to think that must be way cooler than whatever it is you&#8217;re doing at the time. I remember attending the first @media event and being surprised at the small number of people from larger agencies. Everyone was from smaller boutique places, or Yahoo! or a freelancer. Now lots of people I see at events are involved in startups.</p>
<p>Interestingly as well none of it is about a particular language or framework. Thinking about it as I type I think between the four of us we spend are day jobs mainly using different languages (java, python, php, perl). But I bet we all work in environments where we use other languages at least occasionally, or at the least the people around us do. Mixed environments are commonplace in companies that have been around a good while and run on software. They are far less common elsewhere with startups using whatever is cool (lets build a mobile search engine in Haskel anyone?) and small agencies often using whatever they built their first client website with (probably <span class="caps">PHP</span>).</p>
<p>What I&#8217;m really interested in though is the type of topics that are going to be talked about. Last.fm vs the Xbox, Scaling the Guardian, my rambling thoughts on a modern toolbox for developers beyond your average <span class="caps">LAMP</span> or .<span class="caps">NET</span> stack. This is the sort of think I&#8217;m interested in. It&#8217;s the sort of problems I like having. It&#8217;s also, I think, the sort of stuff that doesn&#8217;t get a showing a many mainstream conferences. I&#8217;m hoping it&#8217;s all going to be fairly practical too &#8211; things that whatever role people have they can take away and apply.</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/2010/01/30/rabbitmq-support-cucumber-nagios/">RabbitMQ Support for Cucumber-nagios</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2010-01-30T00:00:00+00:00" pubdate data-updated="true">Jan 30<span>th</span>, 2010</time>
        
         | <a href="/2010/01/30/rabbitmq-support-cucumber-nagios/#disqus_thread">Comments</a>
        
      </p>
    
  </header>


  <div class="entry-content"><p>I&#8217;ve been doing more operations related work of late and am starting to use <a href="http://auxesis.github.com/cucumber-nagios/">Cucumber-nagios</a> for various monitoring tasks. <a href="http://www.nagios.org/">Nagios</a> might not be the most attractive of web interfaces but it&#8217;s so simple to get clients up and running and extend to do what you need. Cucumber however has a lovely, text based, user interface. And although I&#8217;m mainly working with Python at the moment cucumber-nagios (written in Ruby) really is the easiest way I&#8217;ve found of writing simple functional tests.</p>
<p>Cucumber-nagios is the creation of <a href="http://holmwood.id.au/~lindsay/">Lindsay Holmwood</a> and after several brief conversations over Twitter I set about adding a feature I wanted for my own monitoring setup. Namely support for keeping an eye on RabbitMQ.</p>
<p>At the moment the code is in a <a href="http://github.com/garethr/cucumber-nagios">fork on GitHub</a> but I&#8217;m hoping that once any rough edges have been ironed out and a few people have kicked the tyres then it will make it&#8217;s way into trunk. If you want to use this with an existing project straight away you can always drop the contents of <a href="http://github.com/garethr/cucumber-nagios/blob/master/lib/generators/project/features/steps/amqp_steps.rb">amqp_steps.rb</a> into your feature steps file after installing the <a href="http://gems.rubyforge.org/gems/amqp">amqp gem</a>.</p>
<p>I&#8217;ve included a little documentation in the fork as well with a quick example:</p>
<pre>Feature: github.com
  To make sure the rest of the system is in order
  All our message queues must not be backed up
  Scenario: test queue
    Given I have a AMQP server on rabbit.github.com
    And I want to check on the fork queue
    Then it should have less than 400 messages
    Then it should have at least 5 consumers
    Then it should have less than 50 messages per consumer</pre>
<p>My main usecase was to keep an eye on a known queue size and number of consumers. I&#8217;m sure I&#8217;m missing some features at the moment so any feedback much appreciated.</p></div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/2010/01/26/processing-large-files-sed-and-awk/">Processing Large Files With Sed and Awk</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2010-01-26T00:00:00+00:00" pubdate data-updated="true">Jan 26<span>th</span>, 2010</time>
        
         | <a href="/2010/01/26/processing-large-files-sed-and-awk/#disqus_thread">Comments</a>
        
      </p>
    
  </header>


  <div class="entry-content"><p>I found myself using a couple of powerful but underused command line applications this week and felt like sharing.</p>
<p>My problem involved a large text file with over three million lines and a script that processed the file line by line, in this case running a <span class="caps">SQL</span> query against a remote database.</p>
<p>My script didn&#8217;t try and process everything in one go, rather taking off large chunks and processing them in turn, then stopping and printing out the number of lines processed. This was mainly so I could keep an eye on it and make sure it wasn&#8217;t having a detrimental affect on other systems. But once I&#8217;d run the script once (and processed the first quarter of a million records or so) I wanted to run it again, except without the first batch of lines. For this I used sed. The following command creates a new file with the contents of the original file, minus the first 254263 lines.</p>
<pre>sed '1,254263d' original.txt &gt; new.txt</pre>
<p>I could then run my script with the input from new.txt and not have to reprocess the deleted lines. My next problem came when the network connection between the box running the script and the database dropped out. The script printed out the contents of the last line successfully processed, so what I wanted was a new file with the all contents of the old file past the last line. The following awk command does just that, assuming the last line processed was f251f9ee0b39beb5b5c4675ed4802113.</p>
<pre>awk '/^f251f9ee0b39beb5b5c4675ed4802113/{f=1;next}f' original.txt &gt; new.txt</pre>
<p>Now I could have made the script that did the work more complicated and ensure it dealt with these cases. But it would have involved much more code and the original scripts where only a handful of throw away code. For one off jobs like this a quick dive into the command line seemed more prudent.</p></div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/2010/01/07/speaking-dibi/">Speaking at DIBI</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2010-01-07T00:00:00+00:00" pubdate data-updated="true">Jan 7<span>th</span>, 2010</time>
        
         | <a href="/2010/01/07/speaking-dibi/#disqus_thread">Comments</a>
        
      </p>
    
  </header>


  <div class="entry-content"><p>I&#8217;ll be heading back up to Newcastle in April to give a talk at what&#8217;s shaping up to be a good looking conference to kick off the year with. <a href="http://www.whatisdibi.com/"><span class="caps">DIBI</span></a> is trying to please everyone, with both front and backend focused streams.</p>
<blockquote>
<p>Created for both sides of the web coin, <span class="caps">DIBI</span> brings together designers and developers for an unusual two-track web conference. World renowned speakers leading in their fields of work will talk about all things web. Taking place in Newcastle upon Tyne, (it&#8217;s oop north) at The Sage Gateshead on the 28th April 2010, we&#8217;re bringing both sides of the web world together with some awesome speakers.</p>
</blockquote>
<p>I&#8217;m not a big fan of making a point of dividing frontend and backend work. You nearly always end up with javascript dominated horribleness (because we only had a front end person available) or a so called content management system that means all sites have to look the same except for the colour palette. So I&#8217;m hoping lots of cross over stuff happens and interesting conversations abound.</p>
<p>Oh, and if you&#8217;re wondering what I&#8217;ll be speaking about it&#8217;s probably going to be something about all the cool tools you could and should be using when building or looking after web applications. I&#8217;ll probably be doing my best to convince people to look outside the comfort of the <span class="caps">LAMP</span> or C#/<span class="caps">MSSQL</span> stacks and realise the future for lots of web developers might just be more devops.</p></div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/2009/11/28/dreque/">Dreque</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2009-11-28T00:00:00+00:00" pubdate data-updated="true">Nov 28<span>th</span>, 2009</time>
        
         | <a href="/2009/11/28/dreque/#disqus_thread">Comments</a>
        
      </p>
    
  </header>


  <div class="entry-content"><p>I&#8217;ve just found <a href="http://github.com/samuel/dreque">Dreque</a> from <a href="http://samuelks.com/">Samuel Stauffer</a> on GitHub. It&#8217;s yet another take on the whole messaging things which is definitely seeing a lot of activity at the back end of this year. It&#8217;s using <a href="http://code.google.com/p/redis/">Redis</a> on the backend and looks really rather nice:</p>
<p>Submitting jobs:</p>
<pre><code>from dreque import Dreque
def some_job(argument):
    pass
dreque = Dreque("127.0.0.1")
dreque.enqueue("queue", some_job, argument="foo")</code></pre>
<p>Worker:</p>
<pre><code>from dreque import DrequeWorker
worker = DrequeWorker(["queue"], "127.0.0.1")
worker.work()</code></pre></div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/2009/11/05/djugl-december/">DJUGL December</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2009-11-05T00:00:00+00:00" pubdate data-updated="true">Nov 5<span>th</span>, 2009</time>
        
         | <a href="/2009/11/05/djugl-december/#disqus_thread">Comments</a>
        
      </p>
    
  </header>


  <div class="entry-content"><p>As mentioned at the last event I&#8217;ve taken over organising the Django User Group London event from Rob. Tickets are now available for the next event which is going to be on the 3rd of December at The Guardian offices in Kings Cross.</p>
<p>You can sign up on <a href="http://londonpython.eventwax.com/djugl-december">eventwax</a></p></div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/2009/11/01/erlang-screencasts/">Erlang Screencasts</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2009-11-01T00:00:00+00:00" pubdate data-updated="true">Nov 1<span>st</span>, 2009</time>
        
         | <a href="/2009/11/01/erlang-screencasts/#disqus_thread">Comments</a>
        
      </p>
    
  </header>


  <div class="entry-content"><p>I&#8217;ve been trying to learn Erlang for a while. What I actually mean is it&#8217;s been on my list of <em>things to learn</em> for months, along with all sorts of other incredibly interesting bits and pieces. I spend a little bit of time at home but the majority of my learning time is now spent commuting to London and back most days. Sometimes I&#8217;m even going all the way to Swindon which gives me even longer to not learn Erlang.</p>
<p>The main problem with learning something new on the train is space. Reading a book (or my new Kindle) or just using my laptop is fine. Trying to do both at once is nearly impossible (I&#8217;ve tried). So I&#8217;ve decided to give another approach a try, namely screencasts.</p>
<p>I&#8217;ve only done the first <a href="http://www.pragprog.com/screencasts/v-kserl/erlang-in-practice">Erlang in Practice</a> episode so far but I was hugely impressed with the content and general presentation. $5 as well doesn&#8217;t seem bad at all I don&#8217;t think. The episode was half an hour long, but took me a little longer, probably closer to 45 minutes, as I was playing along at home and typing the code examples as I went. I also got sidetracked with messing with my vim configuration at the same time but hey. This makes them perfect for my hour long commute. The full series is 8 episodes long and with luck I&#8217;ll be able to work through them this week.</p>
<p>So, good job <a href="http://weblog.hypotheticalabs.com/">Kevin Smith</a> and <a href="http://www.pragprog.com">Pragmatic</a> for a nice, accessible start to Erlang. All I need to do now is find something interesting to hack on in Erlang.</p></div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/2009/10/24/django-committers/">Django Committers</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2009-10-24T00:00:00+01:00" pubdate data-updated="true">Oct 24<span>th</span>, 2009</time>
        
         | <a href="/2009/10/24/django-committers/#disqus_thread">Comments</a>
        
      </p>
    
  </header>


  <div class="entry-content"><p>I&#8217;ve been lurking on the django-developers mailing list for the last couple of weeks and that provided an excuse to play with the <a href="http://blog.twitter.com/2009/09/soon-to-launch-lists.html">new Twitter Lists</a> feature. So here&#8217;s a <a href="http://twitter.com/garethr/djangocommitters">list of djangocommitters on twitter</a>. If I missed someone do let me know. Their is a chance you won&#8217;t be able to see this if you&#8217;re not on the beta yet I think, sorry!</p></div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/2009/10/18/problems-installing-hadoop-and-dumbo-ubuntu/">Problems Installing Hadoop 0.20 and Dumbo 0.21 on Ubuntu</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2009-10-18T00:00:00+01:00" pubdate data-updated="true">Oct 18<span>th</span>, 2009</time>
        
         | <a href="/2009/10/18/problems-installing-hadoop-and-dumbo-ubuntu/#disqus_thread">Comments</a>
        
      </p>
    
  </header>


  <div class="entry-content"><p>The Hadoop wiki has a great introduction to <a href="http://wiki.apache.org/hadoop/Running_Hadoop_On_Ubuntu_Linux_(Single-Node_Cluster)">installing this piece of software</a>, which I wanted to do to have a play with <a href="http://klbostee.github.com/dumbo/">Dumbo</a>. The Dumbo docs also have a good <a href="http://wiki.github.com/klbostee/dumbo/building-and-installing">getting started</a> section which includes a few patches than need to be applied.</p>
<blockquote>
<p>Dumbo can be considered to be a convenient Python <span class="caps">API</span> for writing MapReduce programs</p>
</blockquote>
<p>Unfortunately it&#8217;s not quite that simple, at least on Ubuntu Jaunty. Hadoop now uses Java6, but if you just follow the instructions on the wikis you&#8217;ll hit a problem when you run &#8216;&#8217;ant package&#8217;&#8216;, namely that a third party application (<a href="http://forrest.apache.org/">Apache Forrest</a>) requires Java 1.5. Once you fix that, the build script will complain again that you need to install Forrest. Here&#8217;s what I did to get everything working:</p>
<pre>sudo apt-get install ant sun-java5-jdk</pre>
<pre>su - hadoop
wget http://mirrors.dedipower.com/ftp.apache.org/forrest/apache-forrest-0.8.tar.gz
tar xzf apache-forrest-0.8.tar.gz
cd /usr/local/hadoop
patch -p0 &lt; /path/to/HADOOP-1722.patch
patch -p0 &lt; /path/to/HADOOP-5450.patch
patch -p0 &lt; /path/to/MAPREDUCE-764.patch
ant package -Djava5.home=/usr/lib/jvm/java-1.5.0-sun -Dforrest.home=/home/hadoop/apache-forrest-0.8/</pre>
<p>With all that out of the way you should be able to run the <a href="http://dumbotics.com/2009/05/31/dumbo-on-clouderas-distribution/">simple examples</a> found on the rather excellent <a href="http://dumbotics.com">dumbotics</a> blog. If you&#8217;re using the Cloudera distribution, or when the Hadoop 0.21 gets a release, these problems will disappear but in the meantime hopefully this saves someone else a bit of head scratching.</p></div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/2009/09/21/learnings-september/">Learnings From September</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2009-09-21T00:00:00+01:00" pubdate data-updated="true">Sep 21<span>st</span>, 2009</time>
        
         | <a href="/2009/09/21/learnings-september/#disqus_thread">Comments</a>
        
      </p>
    
  </header>


  <div class="entry-content"><p>I&#8217;m keep meaning to get around to writing about why I think the future of web developers is operations but in lieu of a proper post here&#8217;s a list of things I&#8217;ve been spending my work life getting to know this month:</p>
<ul>
	<li><a href="http://reductivelabs.com/products/puppet">Puppet</a> &#8211; It&#8217;s brilliant. Define (with a Ruby <span class="caps">DSL</span> of course) what software and services you want running on all your machines, install a daemon on each of them, and hey presto central configuration management.</li>
	<li><a href="http://www.vmware.com/products/vsphere/">VMWare vsphere</a> &#8211; puppet makes more sense the more boxes you have. With vsphere I can have as many boxes as I want (nearly). Command line scripts and an actually very nice windows gui for settings up virtual machines is all pretty nice, especially running on some meaty hardware.</li>
	<li><a href="http://nagios.org/">Nagios</a> &#8211; With lots of boxes comes lots of responsibility (or something). Nagios might look a bit ugly, and bug me with it&#8217;s needless frames based admin, but I can see what people see in it. Which frankly is the ability to monitor everything everywhere for any change what-so-ever.</li>
	<li><a href="http://lucene.apache.org/solr/">Solr</a> &#8211; I&#8217;m now also pretty well versed in using Solr. I&#8217;ve used it in the past, but always behind a Ruby or Python library. Now I know my way around all the <span class="caps">XML</span> based configuration inards. Heck, I&#8217;m even running a nighly release from a couple of days ago in a production environment because I wanted a cool new feature. A special mention to the Solr community on the mailing list, twitter and irc for being great when I had questions.</li>
	<li>Solaris &#8211; I nearly forgot, I spend more time than I care to remember working out how to use Open Solaris (conclusion: OK, but not Debian) and eventually Solaris 10 (conclusion: hope I don&#8217;t have to do that again). My installation notes read like some hideous hack but everything works fine in production and it&#8217;s scarily repeatable so I&#8217;ll live with it for now.</li>
</ul>
<p>I do wonder if it&#8217;s just me that&#8217;s drawn to knowing how everything in the full web stack works. But personally I can&#8217;t just write code if I don&#8217;t understand how to deploy it or what it&#8217;s running on. Front end types know this all too well. Being a master of <span class="caps">CSS</span>, <span class="caps">HTML</span> and Javascript simply isn&#8217;t enough. You need to understand the browser to get anything done. I&#8217;m not sure it&#8217;s the same for all backend inclined folk; how many <span class="caps">PHP</span> programmers really understand Apache and a few other useful bits of web tech?</p></div>
  
  


    </article>
  
  <div class="pagination">
    
      <a class="prev" href="/page/9/">&larr; Older</a>
    
    <a href="/blog/archives">Blog Archives</a>
    
    <a class="next" href="/page/7/">Newer &rarr;</a>
    
  </div>
</div>

    </div>
  </div>
  <footer role="contentinfo">
</footer>
  

<script type="text/javascript">
      var disqus_shortname = 'morethanseven';
      
        
        var disqus_script = 'count.js';
      
    (function () {
      var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
      dsq.src = 'http://' + disqus_shortname + '.disqus.com/' + disqus_script;
      (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    }());
</script>







  <script type="text/javascript">
    (function(){
      var twitterWidgets = document.createElement('script');
      twitterWidgets.type = 'text/javascript';
      twitterWidgets.async = true;
      twitterWidgets.src = 'http://platform.twitter.com/widgets.js';
      document.getElementsByTagName('head')[0].appendChild(twitterWidgets);
    })();
  </script>




</body>
</html>
