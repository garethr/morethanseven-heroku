
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>Morethanseven</title>
  <meta name="author" content="Gareth Rushgrove">

  
  <meta name="description" content="Logging useful information from running systems for monitoring purposes is pretty important if you want to see how your software is behaving in the &hellip;">
  

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <link rel="canonical" href="http://www.morethanseven.net/page/7">
  <link href="/favicon.ico" rel="icon">
  
  <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
  <script src="/javascripts/modernizr-2.0.js"></script>
  <script src="/javascripts/ender.js"></script>
  <script src="/javascripts/octopress.js" type="text/javascript"></script>
  <link href="/articles.atom" rel="alternate" title="Morethanseven" type="application/atom+xml">
  <!--Fonts from Google"s Web font directory at http://google.com/webfonts -->
<link href="http://fonts.googleapis.com/css?family=PT+Serif:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
<link href="http://fonts.googleapis.com/css?family=PT+Sans:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">

<meta content="etkmKMftqAyYJM6-DP_TTKJjV0EHM5vbVcaOloSo8Z8" name="google-site-verification">
<link href="http://www.myopenid.com/server" rel="openid.server">
<link href="http://garethr.myopenid.com/" rel="openid.delegate">

  
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-435455-1']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>


</head>

<body   class="no-sidebar"  >
  <header>
<hgroup>
<h1><a href="/">Morethanseven</a></h1>
<p>The blog of Gareth Rushgrove</p>

<div id='carbonads-container'>
  <div class='carbonad'>
    <div id='carbon'></div>
    <script type='text/javascript'>
      //<![CDATA[
        var z = document.createElement("script");
        z.type = "text/javascript";
        z.async = true;
        z.src = "http://engine.carbonads.com/z/12119/carbon_2_1_0_HORIZ";
        var s = document.getElementsByTagName("script")[0];
        s.parentNode.insertBefore(z, s);
      //]]>
    </script>
  </div>
</div>

</hgroup>
</header>


  <div id="main">
    <div id="content">
      <div class="blog-index">
  
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/2010/06/01/Very-simple-custom-ganglia-metrics/">Very Simple Custom Ganglia Metrics</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2010-06-01T00:00:00+01:00" pubdate data-updated="true">Jun 1<span>st</span>, 2010</time>
        
         | <a href="/2010/06/01/Very-simple-custom-ganglia-metrics/#disqus_thread">Comments</a>
        
      </p>
    
  </header>


  <div class="entry-content"><p>Logging useful information from running systems for monitoring purposes is pretty important if you want to see how your software is behaving in the real world. It&#8217;s one thing to test something locally, another to test something under load on a testing environment and quite something else to watch production code while running.</p>
<p>The numbers can be useful for checking newly released code isn&#8217;t having a detrimental effect on performance, observing what changes in load are doing to systems over time and planning for future capacity growth.</p>
<p>Creating log files, agregating files from multiple machines and then analysing the results is one approach. Another is using something like <a href="http://ganglia.sourceforge.net/">Ganglia</a>. Ganglia is great for trending data over time, and ties in nicely to Nagios for reporting. Installing the monitoring daemon on machines and generally getting the default checks (memory, disk, network, etc.) up and running is nice and easy. From there using the gmetric command line to create custom metrics (say checking some mysql statistics) is again straight forward.</p>
<p>So far, so good. The only issue I&#8217;ve run into was creating custom metrics on the fly from a machine outside the network. For bonus points these metrics were nothing to do with the machine on which they were collected, but to do with the system overall. More specifically the metrics were web site performance data gathered via some cucumber and <a href="http://celerity.rubyforge.org/">celerity</a> scripts.</p>
<p>For this I knocked up a tiny web service wrapper around the gmetric command line. It&#8217;s very feature light at the moment (I only needed it to collect time based stats at regular intervals) but it could be made more featureful and expose the rest of the gmetric <span class="caps">API</span> if needs be. It does it using a very simple <span class="caps">URL</span> scheme:</p>
<% syntax_colorize :bash, type=:coderay do %>
/{metric-name}/{metric-value}/ 
<% end %>
<p>So for example I can create metrics on the fly simply using an <span class="caps">HTTP</span> client or a web browser.</p>
<% syntax_colorize :bash, type=:coderay do %>
/GarethsCommuteTime/3600/
/ExternalPageLoad/2.005/
<% end %>
<p>The <a href="http://github.com/garethr/gmetric-web">code is up on GitHub</a> and is completely self contained. I&#8217;ve been running it mainly using spawning but any small <span class="caps">WSGI</span> server could surfice. I looked very briefly at the <span class="caps">API</span> for Ganglia but found the gmetric approach to be much simpler.</p>
<p>And if you&#8217;re a Ganglia expert and know a much better way of doing this then let me know. Ganglia is awesome, and collecting metrics is both useful and fun (for me at least) but it&#8217;s not always obvious how to get into creating simple custom metrics which tell you something about your own appliction code.</p></div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/2010/05/26/Devops-twitter-aggregator/">Devops Twitter Aggregator</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2010-05-26T00:00:00+01:00" pubdate data-updated="true">May 26<span>th</span>, 2010</time>
        
         | <a href="/2010/05/26/Devops-twitter-aggregator/#disqus_thread">Comments</a>
        
      </p>
    
  </header>


  <div class="entry-content"><p>I&#8217;ve been hacking on appengine again and have thrown up a simple <a href="http://devopstweets.appspot.com/">twitter aggregator for devops</a>. It&#8217;s again based on <a href="http://github.com/steffentchr/twitterengine">TwitterEngine</a> with an increasing number of additions and changes.</p>
<p>As well as just the tweets I want to build a few other small features. The first of which is link extraction, so at the moment you&#8217;ll see recent links a the top of the page. I&#8217;ll hopefully make that a little more useful, with better browing and converting short urls into the real ones. I also have vague plans for providing exports, listing people talking about devops and some useful graphs to track general activity around devops.</p>
<img src="http://image-host.appspot.com/i/img?id=agppbWFnZS1ob3N0cg0LEgVJbWFnZRjphAEM" alt="Devops aggregator on Twitter"
<p>I&#8217;m really interested to see if the whole discussion around the term devops grows over the next year or so, and I&#8217;m hoping this will make it a little easier to see that change happen.</p></div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/2010/05/18/Installing-integrity-on-debianubuntu/">Installing Integrity on Debian/Ubuntu</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2010-05-18T00:00:00+01:00" pubdate data-updated="true">May 18<span>th</span>, 2010</time>
        
         | <a href="/2010/05/18/Installing-integrity-on-debianubuntu/#disqus_thread">Comments</a>
        
      </p>
    
  </header>


  <div class="entry-content"><p>I&#8217;ve been playing with <a href="http://integrityapp.com">Integrity</a> again as a simple continuous integration server and have installed it on a few debian and ubuntu machines in the last few weeks. The current site has good installation instructions for the Ruby side of things but leaves it as an excercise for the installer to make sure all the system level dependencies are installed.</p>
<p>So probably as much for me in the future, here is what I had to install to get the installation instructions to work for me.</p>
<% syntax_colorize :bash, type=:coderay do %>
apt-get install build-essential
apt-get install ruby
apt-get install rdoc
apt-get install sqlite3
apt-get install libdbd-sqlite3-ruby
apt-get install libdataobjects-sqlite3-ruby1.8 
apt-get install libsqlite3-dev
apt-get install libxml2
apt-get install libxml2-dev
apt-get install libxsl-dev
apt-get install libopenssl-ruby
<% end %>
<p>I also needed to install the following package on Ubuntu:</p>
<% syntax_colorize :bash, type=:coderay do %>
apt-get install ruby1.8-dev
<% end %>
<p>If you want to use a database other than the default SQLite then you won&#8217;t need those packages and I&#8217;ll assume you know what you&#8217;re doing.</p></div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/2010/04/29/Youre-going-to-need-a-bigger-toolbox/">You&#8217;re Going to Need a Bigger Toolbox</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2010-04-29T00:00:00+01:00" pubdate data-updated="true">Apr 29<span>th</span>, 2010</time>
        
         | <a href="/2010/04/29/Youre-going-to-need-a-bigger-toolbox/#disqus_thread">Comments</a>
        
      </p>
    
  </header>


  <div class="entry-content"><p>I&#8217;m just getting back from Newcastle after getting to present at the first Design It Build It conference. It was great to be back up in Newcastle and to see lots of familiar faces. As with most conferences it was also good to meet new people (especially those for whom it was their first conference) and to listen to people talking about interesting stuff. Personal highlights for me were David Singleton from Last.fm and Michael Brunton Spall from The Guardian going through really interesting case studies from their respective organisations. It&#8217;s the sort of gritty content it&#8217;s often hard to come by. Speaking did mean I missed out on most of the design track unfrotunately, but videos should be available soon and by all accounts it sounds like the larger designer crowd went home happy.</p>
<p><object id="__sse3884141" width="425" height="355"><param name="movie" value="http://static.slidesharecdn.com/swf/ssplayer2.swf?doc=biggertoolbox-100428092640-phpapp02&stripped_title=youre-going-to-need-a-bigger-toolbox" /><param name="allowFullScreen" value="true"/><param name="allowScriptAccess" value="always"/><embed name="__sse3884141" src="http://static.slidesharecdn.com/swf/ssplayer2.swf?doc=biggertoolbox-100428092640-phpapp02&stripped_title=youre-going-to-need-a-bigger-toolbox" type="application/x-shockwave-flash" allowscriptaccess="always" allowfullscreen="true" width="425" height="355"></embed></object></p>
<p>I think my presentation at <a href="http://dibiconference.co.uk"><span class="caps">DIBI</span></a> went OK. I&#8217;d got a little bit carried away with cramming content in, which meant it felt rushed at times and I still went over by 5 minutes into my Q&amp;A time. But hey, a few people said nice things afterwards.</p>
<p>I wanted to tell the world (of web developers) about as many different tools as I could. I think most people who read this blog have probably come across most of this software, heck you might be commiting code to it or already using it in production. But lots of people haven&#8217;t ever heard of Memcached, never mind Cassandra or RabbitMQ. And more inportant than the specific software is the differnt types of tools available. Small web servers, message queues, <span class="caps">HTTP</span> caches, etc. Conferences are a good place to find and educate people. Hopefully I managed to do just that.</p>
<p>One thing I hope I got across, I&#8217;m not for a moment saying you shouldn&#8217;t be using tools you know and love. Nor am I saying you should jump in and start using lots of crazy software. But keeping an eye on new developments can serve you well when it comes to deciding whether the best approach is really to build something from scratch. I&#8217;ve spoken to several people over the last few weeks who where starting to write simple queing systems using cron and mysql, or using a hand rolled file system based caching setup. And in both cases I think they would be better served by existing tools.</p>
<p>My slides had <em>a lot</em> of links in them and I mentioned during my talk I&#8217;m put a list of them somewhere:</p>
<h2>Small Web Servers</h2>
<ul>
	<li>Nginx &#8211; <a href="http://wiki.nginx.org">http://wiki.nginx.org</a></li>
	<li>Thin &#8211; <a href="http://code.macournoyer.com/thin/">http://code.macournoyer.com/thin/</a></li>
	<li>Mongrel &#8211; <a href="http://github.com/fauna/mongrel/">http://github.com/fauna/mongrel/</a></li>
	<li>Spawning &#8211; <a href="http://pypi.python.org/pypi/Spawning/">http://pypi.python.org/pypi/Spawning/</a></li>
	<li>Unicorn &#8211; <a href="http://github.com/defunkt/unicorn/">http://github.com/defunkt/unicorn/</a></li>
</ul>
<h2>Caching</h2>
<ul>
	<li>Memcached &#8211; <a href="http://memcached.org">http://memcached.org</a></li>
	<li>Squid &#8211; <a href="http://www.squid-cache.org">http://www.squid-cache.org</a></li>
	<li>Varnish &#8211; <a href="http://varnish-cache.org">http://varnish-cache.org</a></li>
</ul>
<h2>Search Engines</h2>
<ul>
	<li>Solr &#8211; <a href="http://lucene.apache.org/solr/">http://lucene.apache.org/solr/</a></li>
	<li>Xapian &#8211; <a href="http://xapian.org">http://xapian.org</a></li>
	<li>Sphinx &#8211; <a href="http://sphinxsearch.com">http://sphinxsearch.com</a></li>
	<li>Nutch &#8211; <a href="http://lucene.apache.org/nutch/">http://lucene.apache.org/nutch/</a></li>
	<li>Whoosh &#8211; <a href="http://whoosh.ca">http://whoosh.ca</a></li>
</ul>
<h2>Message Queues</h2>
<ul>
	<li>RabbitMQ &#8211; <a href="http://rabbitmq.com">http://rabbitmq.com</a></li>
	<li>Apache ActiveMQ &#8211; <a href="http://activemq.apache.org">http://activemq.apache.org</a></li>
	<li>Beanstalk &#8211; <a href="http://kr.github.com/beanstalkd/">http://kr.github.com/beanstalkd/</a></li>
	<li>Stomp Server &#8211; <a href="http://stomp.codehaus.org">http://stomp.codehaus.org</a></li>
	<li>MemcacheQ &#8211; <a href="http://memcachedb.org/memcacheq/">http://memcachedb.org/memcacheq/</a></li>
</ul>
<h2>Non-relational Data Stores</h2>
<ul>
	<li>CouchDB &#8211; <a href="http://couchdb.apache.org">http://couchdb.apache.org</a></li>
	<li>MongoDB &#8211; <a href="http://www.mongodb.org">http://www.mongodb.org</a></li>
	<li>Tokyo Tyrant &#8211; <a href="http://1978th.net/tokyotyrant/">http://1978th.net/tokyotyrant/</a></li>
	<li>Cassandra &#8211; <a href="http://cassandra.apache.org">http://cassandra.apache.org</a></li>
	<li>Redis &#8211; <a href="http://code.google.com/p/redis/">http://code.google.com/p/redis/</a></li>
</ul>
<h2>Data Mining</h2>
<ul>
	<li>Hadoop &#8211; <a href="http://hadoop.apache.org">http://hadoop.apache.org</a></li>
	<li>Hive &#8211; <a href="http://wiki.apache.org/hadoop/Hive/">http://wiki.apache.org/hadoop/Hive/</a></li>
	<li>Pig &#8211; <a href="http://hadoop.apache.org/pig/">http://hadoop.apache.org/pig/</a></li>
	<li>Dumbo &#8211; <a href="http://lastfm.com/dumbo/">http://lastfm.com/dumbo/</a></li>
	<li>Disco &#8211; <a href="http://discoproject.org">http://discoproject.org</a></li>
</ul>
<h2>Functional Testing</h2>
<ul>
	<li>Cucumber &#8211; <a href="http://cukes.info">http://cukes.info</a></li>
	<li>Cucumber-Nagios &#8211; <a href="http://auxesis.github.com/cucumber-nagios/">http://auxesis.github.com/cucumber-nagios/</a></li>
</ul>
<h2>Server Provisioning</h2>
<ul>
	<li>Puppet &#8211; <a href="http://puppetlabs.com">http://puppetlabs.com</a></li>
	<li>Chef &#8211; <a href="http://wiki.opscode.com/display/chef/Home/">http://wiki.opscode.com/display/chef/Home/</a></li>
</ul></div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/2010/04/24/Devops-at-barcamp-cambridge/">Devops at Barcamp Cambridge</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2010-04-24T00:00:00+01:00" pubdate data-updated="true">Apr 24<span>th</span>, 2010</time>
        
         | <a href="/2010/04/24/Devops-at-barcamp-cambridge/#disqus_thread">Comments</a>
        
      </p>
    
  </header>


  <div class="entry-content"><p>I&#8217;m at barcamp cambridge this weekend and decided to do a short talk on devops. It&#8217;s still a term that not too many people have come across and something that lots of people building websites should think about.</p>
<p><object width="425" height="355"><param name="movie" value="http://static.slidesharecdn.com/swf/ssplayer2.swf?doc=devops-100424081210-phpapp02&stripped_title=devops-3839400" /><param name="allowFullScreen" value="true"/><param name="allowScriptAccess" value="always"/><embed src="http://static.slidesharecdn.com/swf/ssplayer2.swf?doc=devops-100424081210-phpapp02&stripped_title=devops-3839400" type="application/x-shockwave-flash" allowscriptaccess="always" allowfullscreen="true" width="425" height="355"></embed></object></p>
<p>I put the slides together this morning so much of it will be familiar to people who have been reading the same blog posts as me over the last year or so. For anyone else either just finding out about the whole world of operations or old hand sysadmins finding likeminded people hopefully the slides will be useful.</p></div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/2010/04/19/Dibi-twitter-aggregator/">DIBI Twitter Aggregator</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2010-04-19T00:00:00+01:00" pubdate data-updated="true">Apr 19<span>th</span>, 2010</time>
        
         | <a href="/2010/04/19/Dibi-twitter-aggregator/#disqus_thread">Comments</a>
        
      </p>
    
  </header>


  <div class="entry-content"><p>So, <a href="http://dibiconference.com/"><span class="caps">DIBI</span></a> is just over a week away and lots of people seem to be getting excited. Personally I&#8217;m really looking forward to it. I get a nice trip back up to my old home of Newcastle and get to talk geek to an audience of likeminded (and not so likeminded) web professionals. I&#8217;m also going to catch up with quite a few people I haven&#8217;t seen in quite a while.</p>
<p>Anyway, Twitter is at it&#8217;s best at conferences like this. It&#8217;s perfect for the <em>where to go now</em> situation. But I also like going back in time after the fact and looking at what people said, especially to get feedback about my talk. With that in mind I&#8217;ve build a <a href="http://dibiconf.appspot.com/">little aggregator</a> for all things #dibi. So far that appears to be a mixture of excitement and travel chaos.</p>
<p>I specifically wanted something that ran on the server, which discounted an awful lot of pure javascript versions. I think Twitter clients generally do a good job of the <em>right now</em> anyway. I also like to collect data for mining later, assuming I have the time. After a number of discussions on Twitter, then just some wandering around GitHub I found <a href="http://github.com/steffentchr/twitterengine">TwitterEngine</a> which is fantastic. I&#8217;ve hacked it around quite a bit into something more general purpose. I&#8217;ve added some caching, some other App Engine performance tweaks and some monitoring. I&#8217;ll commit those to GitHub when I get the chance. I&#8217;d forgotten quite how much fun App Engine development was.</p>
<p>I still want to add a few more features before the conference. The styles work quite well on my Android but less well (text too small) on my iPod Touch. So I&#8217;ll fix that first. Any other requests?</p></div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/2010/04/05/Hadoop-hive-web-interface/">Hadoop Hive Web Interface</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2010-04-05T00:00:00+01:00" pubdate data-updated="true">Apr 5<span>th</span>, 2010</time>
        
         | <a href="/2010/04/05/Hadoop-hive-web-interface/#disqus_thread">Comments</a>
        
      </p>
    
  </header>


  <div class="entry-content"><p>I&#8217;ve been playing with Hive recently and liking what I&#8217;ve found. In theory at least it provides a very nice, simple way of getting into analysing large data sets. To make it even easier to show other people what you&#8217;re up to Hive has a nascent web interface with a little documentation <a href="http://wiki.apache.org/hadoop/Hive/HiveWebInterface">on the wiki</a></p>
<p><img src="http://image-host.appspot.com/i/img?id=agppbWFnZS1ob3N0cgwLEgVJbWFnZRiBfQw" alt="image of hive web ui"/></p>
<p>On the one hand it&#8217;s rather simple at this point, but that should be easily enought to prettify given a bit of time. The bigger problem was getting it working in the first place. What follows worked for me using the latest cloudera packages on debian testing. I&#8217;m assuming you already have Hive and Hadoop installed, the basic packages worked fine for me here.</p>
<p>Next up you&#8217;ll need the <span class="caps">JDK</span> (not just the <span class="caps">JRE</span>) as their is some compilation that will go on the first time you run the web interface.</p>
<% syntax_colorize :bash, type=:coderay do %>
apt-get install ant sun-java6-jdk
<% end %>
<p>Next up I had to modify the installed <em>/etc/hive/conf/hive-site.xml</em> file as follows:</p>
<p>I changed this:</p>
<% syntax_colorize :xml, type=:coderay do %>
<property>
  <name>hive.metastore.uris</name>
  <value>file:///var/lib/hivevar/metastore/metadb/</value>
  <description>Comma separated list of URIs of metastore servers. The first server that can be connected to will be used.</description>
</property>
<% end %>
<p>To this. Note the hivevar path doesn&#8217;t exist so I&#8217;m not sure if this was a typo in the source.</p>
<% syntax_colorize :xml, type=:coderay do %>
<property>
  <name>hive.metastore.uris</name>
  <value>file:///var/lib/hive/var/metastore/metadb/</value>
  <description>Comma separated list of URIs of metastore servers. The first server that can be connected to will be used.</description>
</property>
<% end %>
<p>I also change the following section regarding the metastore name:</p>
<% syntax_colorize :xml, type=:coderay do %>
<property>
  <name>javax.jdo.option.ConnectionURL</name>
  <value>jdbc:derby:;databaseName=/var/lib/hive/metastore/${user.name}_db;create=true</value>
  <description>JDBC connect string for a JDBC metastore</description>
</property>
<% end %>
<p>To this, with a fixed name. When using the above confirguration the file was actually called ${user.name} rather than my username being subsituted in. Elsewhere this seems to work fine.</p>
<% syntax_colorize :xml, type=:coderay do %>
<property>
  <name>javax.jdo.option.ConnectionURL</name>
  <value>jdbc:derby:;databaseName=/var/lib/hive/metastore/metastore_db;create=true</value>
  <description>JDBC connect string for a JDBC metastore</description>
</property>
<% end %>
<p>I&#8217;m not convinced the above two changes are needed but have left them here just in case. The main tricky part is making sure a load of environment variables are correctly set. The following worked for me:</p>
<% syntax_colorize :bash, type=:coderay do %>
export ANT_LIB=/usr/share/ant/lib
export HIVE_HOME=/usr/lib/hive
export HADOOP_HOME=/usr/lib/hadoop
export PATH=$PATH:$HADOOP_HOME/bin
export JAVA_HOME=/usr/lib/jvm/java-6-sun
<% end %>
<p>All being well that should allow you to run the hive command with the web interface like so:</p>
<% syntax_colorize :bash, type=:coderay do %>
hive &#8211;service hwi
<% end %>
<p>That should bring up a webserver on port 9999 where you should see something similar to the screenshot above.</p></div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/2010/03/28/More-django-project-templates/">More Django Project Templates</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2010-03-28T00:00:00+00:00" pubdate data-updated="true">Mar 28<span>th</span>, 2010</time>
        
         | <a href="/2010/03/28/More-django-project-templates/#disqus_thread">Comments</a>
        
      </p>
    
  </header>


  <div class="entry-content"><p>Quite a while ago I released some handy scripts for building up Django project layouts. Part of the reason behind this was to kick off discussions about ideal pproject layouts and maybe even get a few user submitted layouts into the project. Paster makes this soft of thing really easy to do and I was interested in what people might come up with.</p>
<p>Well, the team over at <a href="http://chicagotribune.com/">The Chicargo Tribune</a> have done just that, creating a branch of the original project and <a href="http://github.com/ryanmark/django-project-templates/">adding a very rich example project to it</a></p>
<p>I&#8217;ve finally gotten around to merging that back into <a href="http://github.com/garethr/django-project-templates/">my branch</a> and releasing a new version to <a href="http://pypi.python.org/pypi/django-project-templates/0.11">PyPi</a>. It&#8217;s got a good number of PostGreSQL commands that might be of use, as well as several Amazon S3 and EC2 examples. Even if none of these complete templates fit what you&#8217;re looking for exactly their are lots of smaller fabric recipes worth taking a look at.</p>
<p>You can read all about what is in the project over on their <a href="http://blog.apps.chicagotribune.com/2010/03/08/advanced-django-project-layout/">developer blog</a>, which if filled with other interesting web and operations goodness.</p>
<p>So, huge thanks to <a href="http://blog.apps.chicagotribune.com/author/cgroskopf/">Chris</a>, <a href="http://blog.apps.chicagotribune.com/author/bboyer/">Brian</a>, <a href="http://blog.apps.chicagotribune.com/author/ryanthomasmark/">Ryan</a> and <a href="http://blog.apps.chicagotribune.com/author/joegermuskact/">Joe</a> for some great work.</p></div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/2010/03/21/Sandbox-your-ruby-gems/">Sandbox Your Ruby Gems</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2010-03-21T00:00:00+00:00" pubdate data-updated="true">Mar 21<span>st</span>, 2010</time>
        
         | <a href="/2010/03/21/Sandbox-your-ruby-gems/#disqus_thread">Comments</a>
        
      </p>
    
  </header>


  <div class="entry-content"><p>I&#8217;m a huge fan of virtualenv for Python. It&#8217;s a simple tool that lets you have an isolated python environment into which you can install libraries via setup tools. It makes experimenting with different versions of code easier and avoids lots of problems with hard to find bugs caused by unknown third party conflicts.</p>
<p><a href="http://github.com/nkryptic/sandbox">Sandbox</a> aims to do exactly the same for Ruby. It isolates your gem installation from the system libraries and providesa script to activate the named environment. The GitHub repo has been around since 2008, yet only has 37 followers. I&#8217;m not sure whether that is because another more popular and feature rich solution exists or because Ruby people haven&#8217;t yet found this technique useful. For me finding tools that work the same way as those I already like in other languages makes me happy.</p></div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/2010/03/19/Static-generator-for-web-services/">Static Generator for Web Services</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2010-03-19T00:00:00+00:00" pubdate data-updated="true">Mar 19<span>th</span>, 2010</time>
        
         | <a href="/2010/03/19/Static-generator-for-web-services/#disqus_thread">Comments</a>
        
      </p>
    
  </header>


  <div class="entry-content"><p>My latest <em>on a train</em> project is <a href="http://github.com/garethr/Dumper">Dumper</a>, a static generator for web services. I&#8217;m a huge fan of <a href="http://nanoc.stoneship.org/">Nanoc</a> and tools like <a href="http://github.com/mojombo/jekyl">Jekyl</a> for building websites. But I spend at least as much time building small webservicds. I wanted something super simple that would let me expose data I had access to as a read only web service.</p>
<p>At the moment that means using a mysql database, specifying a <span class="caps">SQL</span> query and running a python script. Hey presto you have lots and lots of <span class="caps">XML</span> and <span class="caps">JSON</span> files representing your data. Dumper provides hooks for you to customise the ourput or even overide the database layer. It should be possible if you were so inclined to replace the mysql backend with another database, or other type of data store. Hopefully some of these might end up in my branch at a later date.</p>
<p>At a basic level all you need is a config file which looks a little like:</p>
<% syntax_colorize :ini, type=:coderay do %>
[Dumper]
path: people
index: id
backend: mysql

[Database]
sql: SELECT id, name FROM people
host: localhost
username: root
password:
database: dumper
<% end %>
<p>And then run a command line application against that file:</p>
<% syntax_colorize :bash, type=:coderay do %>
dumper -c people.ini dump
<% end %>
<p>The application supports a number of flags for specifying where you want the files to be generated, what your config file is called and to clean up any generated files if you want to try again. The output will let you know which files have been updated, which deleted and which added too. If you&#8217;d rather have a single file but with all your records in then that&#8217;s easy too &#8211; just add something to the config file.</p>
<p>It&#8217;s somewhat early days for Dumper, and I&#8217;ve not seen anything similar so their are definately some rough edges that could do with some work. All of that will really come down to how much use it gets. I&#8217;d appreciate any feedback from anyone with a similar itch to scratch too.</p></div>
  
  


    </article>
  
  <div class="pagination">
    
      <a class="prev" href="/page/8/">&larr; Older</a>
    
    <a href="/blog/archives">Blog Archives</a>
    
    <a class="next" href="/page/6/">Newer &rarr;</a>
    
  </div>
</div>

    </div>
  </div>
  <footer role="contentinfo">
</footer>
  

<script type="text/javascript">
      var disqus_shortname = 'morethanseven';
      
        
        var disqus_script = 'count.js';
      
    (function () {
      var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
      dsq.src = 'http://' + disqus_shortname + '.disqus.com/' + disqus_script;
      (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    }());
</script>







  <script type="text/javascript">
    (function(){
      var twitterWidgets = document.createElement('script');
      twitterWidgets.type = 'text/javascript';
      twitterWidgets.async = true;
      twitterWidgets.src = 'http://platform.twitter.com/widgets.js';
      document.getElementsByTagName('head')[0].appendChild(twitterWidgets);
    })();
  </script>




</body>
</html>
